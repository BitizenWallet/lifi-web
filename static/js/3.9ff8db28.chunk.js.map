{"version":3,"sources":["types/index.ts","services/balances/covalent.ts","services/balances/debank.ts","services/balances/config.ts","services/balances/utils.ts","services/balances/index.ts","services/localStorage.ts","services/utils.ts","components/web3/connectors.ts","components/web3/ConnectButton.tsx","components/Dashboard.tsx","components/NotFoundPage.tsx","services/notifications.ts","assets/icon192.png","components/NotificationsOverlay.tsx","config/connectors.ts","services/metamask.ts","services/tokenListService.ts","components/LoadingIndicator.tsx","components/Route.tsx","components/ChainSelect.tsx","components/TokenSelect.tsx","components/SwapForm.tsx","services/processRenderer.tsx","components/Clock.tsx","components/Swapping.tsx","assets/wallet.png","components/TransactionsTable.tsx","components/Swap.tsx","assets/gifs/metamask_disconnect.gif","components/web3/DisconnectButton.tsx","components/web3/WalletButtons.tsx","components/web3/Web3ConnectionManager.tsx","components/web3/hooks.ts","components/web3/WrappedWeb3ReactProvider.tsx","services/metatags.ts","services/stomt.ts","App.tsx","types/defaultToken.types.ts","types/internal.types.ts"],"names":["COVALENT_SUPPORTED_CHAINS","ChainId","ETH","POL","BSC","AVA","FTM","MUM","getBalanceOnChain","walletAdress","chainId","a","url","axios","get","result","console","error","tokenAmounts","data","items","covalentResult","localToken","findTokenByChainIdAndAddress","contract_address","amount","BigNumber","balance","shiftedBy","contract_decimals","toString","priceUSD","quote_rate","push","address","name","contract_name","coinKey","contract_ticker_symbol","symbol","logoURI","logo_url","decimals","getBalances","onChains","requestedChains","filter","indexOf","warn","promises","map","Promise","all","flat","chainNameMapping","eth","bsc","xdai","DAI","matic","ftm","okt","OKT","heco","HEC","avax","arb","ARB","movr","MOR","supportedChains","Object","values","tokenListUrl","debankResult","keys","length","debankResultItem","chainName","chain","getChainById","tokenAddress","ethers","utils","isAddress","id","price","undefined","optimized_symbol","blockedTokens","filterBlockedTokenAmounts","includes","getTokenBalancesFromDebank","walletAddress","tokens","find","token","ONE","LiFi","getTokenBalances","defaultTokens","ChainKey","debank","uniqueChains","Array","from","Set","covalent","requestedTokens","tokenAmount","getTokenBalancesForChainsFromDebank","tokensByChain","key","forEach","parseInt","isSupported","itemBackup","localStorage","getItem","removeItem","setItem","e","oldRoutes","migrateOldProperties","storeWallets","wallets","lowerCaseWallets","toLowerCase","JSON","stringify","readWallets","walletsString","parse","storeDeactivatedWallets","readDeactivatedWallets","storeRoute","route","updatedRoutes","storedRoutes","readAllRoutes","replaced","storedRoute","deleteRoute","routeString","sortRoutesByExecutionDate","routes","sort","routeA","routeB","steps","execution","process","startedAt","HISTORICAL_STATI","readHistoricalRoutes","historicalRoutes","every","step","status","readActiveRoutes","activeRoutes","formatTokenAmount","formatTokenAmountOnly","floated","isZero","decimalPlaces","absoluteValue","lt","toFixed","deepClone","src","isWalletDeactivated","lowerCaseAddress","deactivatedAddresses","parseSecondsAsTime","seconds","isNaN","minutes","Math","floor","remainingSeconds","ceil","prefix","customRpc","REACT_APP_RPC_URL_POLYGON","REACT_APP_RPC_URL_BSC","REACT_APP_RPC_URL_XDAI","REACT_APP_RPC_URL_FANTOM","REACT_APP_RPC_URL_ARBITRUM","ROP","RIN","GOR","KOV","ARBT","OPTT","BSCT","getRpcUrl","metamask","rpcUrls","injected","InjectedConnector","supportedChainIds","getInjectedConnector","window","ethereum","currentProvider","providers","Web3Provider","getNetwork","chains","network","NetworkConnector","urls","fromEntries","defaultChainId","addToActiveWallets","activeWallets","removeFromDeactivatedWallets","deactivatedWalletsWithoutAccount","wallet","ConnectButton","style","className","activate","useWeb3React","handleConnect","getAccount","accountAddress","borderRadius","type","icon","WalletOutlined","onClick","visibleChains","emptySummaryAmounts","amount_usd","percentage_of_portfolio","emptyWallet","loading","portfolio","chainKeysToObject","coins","defaultCoins","coin","CoinKey","TEST","renderAmounts","amounts","amount_coin","eq","Button","width","active","size","shape","height","renderSummary","summary","tooltipsEmpty","tooltips","k","getChainByKey","block","gas","Modal","info","title","content","href","target","rel","showGasModal","renderGas","chainKey","coinName","isChainUsed","inPortfolio","parsePortfolioToAmount","tooltipEmpty","tooltip","color","count","offset","backgroundColor","renderWalletColumnTitle","syncHandler","deleteHandler","span","substr","SyncOutlined","DeleteOutlined","times","buildColumnForWallet","dataIndex","children","render","coinColumn","fixed","verified","alt","CheckCircleTwoTone","twoToneColor","CloseCircleTwoTone","portfolioColumn","baseWidth","initialColumns","initialRows","Dashboard","useState","registeredWallets","setRegisteredWallets","web3","columns","setColumns","walletModalVisible","setWalletModalVisible","walletModalAddress","setWalletModalAddress","walletModalLoading","setWalletModalLoading","setData","isSubscribed","setIsSubscribed","useEffect","account","buildWalletColumns","walletColumns","col","updateWalletPortfolio","item","deleteWallet","buildColumns","initialBuild","column","buildRows","generatedRows","coinRow","emptyAmounts","cellContent","gt","plus","b","minus","toNumber","chainPortfolio","existingCoin","symbolExists","symbol_id","newCoin","old","addWallet","newWallet","resolveEnsName","JsonRpcProvider","resolveName","handleWalletModalAdd","getModalAddressSuggestion","endsWith","handleWalletModalClose","addedWallets","web3Account","summaryIndex","minHeight","dataSource","bordered","scroll","x","y","pagination","Summary","Row","Cell","index","reduce","sum","curr","total","totalSumUsd","current","div","calculateWalletSummary","visible","onOk","onCancel","zIndex","closable","footer","disabled","marginBottom","display","margin","Text","textAlign","placeholder","onChange","event","value","NotFoundPage","NotificationType","Title","position","left","top","transform","activateNotifications","log","Notification","requestPermission","permission","getNotificationContents","options","dir","badge","alwaysShow","SWAP_SUCCESSFUL","SWAP_ERROR","CROSS_SUCCESSFUL","CROSS_ERROR","TRANSACTION_SUCCESSFULL","TRANSACTION_ERROR","serviceExport","showNotification","visibilityOverride","document","hidden","NOTIFICATION_OVERLAY_CSS_ID","NOTIFICATION_OVERLAY_VERTICAL_START_POSITION","NOTIFICATION_OVERLAY_VERTICAL_DISPLAY_POSITION","NotificationOverlay","permissionStatus","setPermissionStatus","notifications","dismissOverlay","animate","right","opacity","duration","easing","finished","delay","level","padding","danger","getRpcs","rpcs","switchChain","request","method","params","code","addChain","message","addToken","image","wasAdded","switchChainAndAddToken","prefixChainId","once","blacklist","loadTokenList","tokenlistUrl","findIndex","loadTokenListAsTokens","tokenList","filteredTokens","filterBlacklistedTokens","mappedTokens","replace","defaultToken","unshift","LoadingIndicator","element","useRef","bubbleStyle","background","childNodes","stagger","repeat","Infinity","ref","Route","selected","onSelect","formatToolName","toolKey","tool","findTool","parseStepShort","action","toToken","estimate","toAmount","aggregatedDuration","executionDuration","parsedDuration","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","progressDot","direction","description","fromToken","fromAmount","fromChainId","toChainId","paddingLeft","includedSteps","line","parseStep","Step","toAmountUSD","gasCostUSD","ChainSelect","transferChains","selectedChain","onChangeSelectedChain","syncStatus","v","dropdownStyle","minWidth","optionLabelProp","OptGroup","label","Option","synced","role","text","TokenSelect","balances","selectedToken","onChangeSelectedToken","selectReference","grayed","showBalance","tokenId","Error","findToken","showSearch","select","filterOption","input","option","amountRendered","SwapForm","depositChain","setDepositChain","depositToken","setDepositToken","depositAmount","setDepositAmount","withdrawChain","setWithdrawChain","withdrawToken","setWithdrawToken","setWithdrawAmount","withdrawAmount","estimatedWithdrawAmount","estimatedMinWithdrawAmount","allowSameChains","forceSameToken","depositSelectRef","withdrawSelectRef","depositAmountString","setDepositAmountString","connectWallet","getBalance","tokenBalance","gte","gutter","xs","sm","defaultValue","min","currentTarget","lte","setMaxDeposit","blur","justify","SwapOutlined","renderProcessMessage","txLink","confirmations","renderConfirmations","renderProcessError","errorMessage","substring","htmlMessage","htmlErrorMessage","dangerouslySetInnerHTML","__html","max","Clock","successAt","failedAt","Date","now","setCount","intervalRef","setInterval","clearInterval","renderTime","getFinalBalance","lastStep","getReceivingInfo","getTokenBalance","toChain","Swapping","updateRoute","onSwapDone","isMobile","useMediaQuery","query","swapStartedAt","setSwapStartedAt","swapDoneAt","setSwapDoneAt","isSwapping","setIsSwapping","alerts","finalTokenAmount","setFinalTokenAmount","allDone","isFailed","some","alreadyStarted","resumeExecution","moveExecutionToBackground","getChainAvatar","getAvatar","startCrossChainSwap","library","signer","getSigner","settings","updateCallback","switchChainHook","executeRoute","resumeRoute","restartCrossChainSwap","pop","requiredChainId","getChainId","updatedRoute","currentProcess","getCurrentProcess","mode","executionSteps","processList","hasFailed","isLastPendingProcess","maxWidth","whiteSpace","doneAt","parseExecution","isDone","isLoading","isPaused","Item","ArrowRightOutlined","dot","LoadingOutlined","PauseCircleOutlined","isCrossChainSwap","isCrossStep","isLifiStep","receivedAmount","successMessage","fontSize","strong","constants","AddressZero","cursor","to","getMainButton","indicator","getStateText","TrasactionsTable","currentRouteCallId","startParams","selectRoute","historical","login","renderActionButton","onConfirm","okText","okType","cancelText","LoginOutlined","firstStep","startedDate","toLocaleString","date","fromChain","protocols","join","state","hideOnSinglePage","history","createBrowserHistory","Panel","Collapse","parseChain","passed","toUpperCase","parseToken","transferTokens","coinKeys","findDefaultToken","fromTokenId","getAddress","trim","Swap","filterDefaultTokenByChains","search","newFromChain","newToChain","defaultParams","QueryString","ignoreQueryPrefix","newFromChainId","foundToken","inDefault","newAmount","newToChainId","toTokenId","getDefaultParams","location","setStateUpdate","fromChainKey","setFromChainKey","fromTokenAddress","setFromTokenAddress","toChainKey","setToChainKey","toTokenAddress","setToTokenAddress","setTokens","refreshTokens","setRefreshTokens","setBalances","refreshBalances","setRefreshBalances","routeCallResult","setRouteCallResult","optionSlippage","setOptionSlippage","optionInfiniteApproval","setOptionInfiniteApproval","optionEnabledBridges","setOptionEnabledBridges","availableBridges","setAvailableBridges","optionEnabledExchanges","setOptionEnabledExchanges","availableExchanges","setAvailableExchanges","setRoutes","routesLoading","setRoutesLoading","noRoutesAvailable","setNoRoutesAvailable","selectedRoute","setSelectedRoute","highlightedIndex","setHighlightedIndex","setActiveRoutes","setHistoricalRoutes","restartedOnPageLoad","setRestartedOnPageLoad","balancePollingStarted","setBalancePollingStarted","routeCards","showRoutesable","setShowRoutesable","routeFailed","actionRequired","pollingInterval","load","setConfig","apiUrl","defaultRouteOptions","integrator","getPossibilities","possibilities","bridges","bridge","bridgeTool","split","allBridges","exchanges","exchange","exchangeTool","allExchanges","newTokens","updateTokenData","getToken","then","updatedToken","getSelectedWithdraw","toAmountMin","walletChainIsSupported","assign","stateUpdate","updateBalances","useCallback","entries","currentBalances","getTransferRoutes","fromAddress","toAddress","slippage","allow","uuid","getRoutes","setTimeout","nodes","defaultActiveKey","ghost","overflowX","header","stopExecution","htmlType","spin","requiredAmount","gasCosts","hasSufficientGasBalanceOnStartChain","isSwapStep","crossChain","gasEstimate","hasSufficientGasBalanceOnCrossChain","submitButton","formatter","parser","parseFloat","border","checked","flexDirection","destroyOnClose","Typography","DisconnectButton","deactivate","shouldHideString","readHideDisconnectPopup","hideDisconnectPopup","walletIdentifier","setWalletIdentifier","handleDisconnect","filteredWallets","removeFromActiveWallets","deactivatedWallets","addToDeactivatedWallets","lookupAddress","catch","infoContent","metamaskGif","shouldHide","DisconnectOutlined","trigger","WalletButtons","Web3ConnectionManager","connector","triedEager","tried","setTried","eagerConnect","currentlySelectedUserAddress","selectedAddress","isAuthorized","useEagerConnect","suppress","on","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","getLibrary","provider","WrappedWeb3ReactProvider","CLASS_NAME","head","querySelector","updateMetaTags","tags","og","w","h","documentElement","lang","addMetaTag","forcedLanguage","createLinkTag","addCanonicalUrlTag","statusCode","noIndex","prerenderHeader","querySelectorAll","elm","remove","append","addTagsToDOM","propertyTag","createMetaTag","tag","createElement","setAttribute","hreflang","setMetatags","defaultValues","inited","appIds","lifi","swap","dashboard","initStomt","page","REACT_APP_STOMT_ENABLED","innerWidth","appId","Stomt","tab","setOptions","script","getElementsByTagName","async","parentNode","insertBefore","colorBackground","preload","getTransferChains","jsonArraySting","App","path","usePageViews","embedView","TwitterOutlined","GithubOutlined","USDC","USDT","MATIC","WBTC","BNB","OPT","AVAX","MOVR","HT","ONET","Currencies","val","supportedExchanges","supportedExchangeAggregators","supportedBridges"],"mappings":"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","file":"static/js/3.9ff8db28.chunk.js","sourcesContent":["export * from './defaultToken.types'\nexport * from './internal.types'\nexport * from '@lifinance/sdk'\n","import { ChainId, CoinKey, findTokenByChainIdAndAddress, TokenAmount } from '@lifinance/sdk'\nimport axios from 'axios'\nimport BigNumber from 'bignumber.js'\n\n// Documentation: https://www.covalenthq.com/docs/api/#/0/Class-A/Get-token-balances-for-address/lng=en\ntype CovalentResultItem = {\n  contract_address: string\n  contract_name: string\n  contract_ticker_symbol: string\n  contract_decimals: number\n  logo_url: string\n  balance: number\n  quote_rate: number\n}\n\ntype CovalentResult = {\n  data: {\n    items: CovalentResultItem[]\n  }\n}\n\nconst COVALENT_API_KEY = 'ckey_538ec97ac4594396bda51a91df1'\nconst COVALENT_API_URI = 'https://api.covalenthq.com/v1'\nconst COVALENT_SUPPORTED_CHAINS = [\n  ChainId.ETH, // Ethereum Mainnet\n  ChainId.POL, // Polygon/Matic Mainnet\n  ChainId.BSC, // Binance Smart Chain\n  ChainId.AVA, // Avalanche C-Chain Mainnet\n  ChainId.FTM, // Fantom Opera Mainnet\n\n  // Testnets\n  ChainId.MUM, // Polygon/Matic Mumbai Testnet\n  //43113,  // Fuji C-Chain Testnet\n]\n\nconst getBalanceOnChain = async (walletAdress: string, chainId: number): Promise<TokenAmount[]> => {\n  const url = `${COVALENT_API_URI}/${chainId}/address/${walletAdress}/balances_v2/?key=${COVALENT_API_KEY}`\n  let result\n\n  try {\n    result = await axios.get<CovalentResult>(url)\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error(e)\n    return []\n  }\n\n  const tokenAmounts: TokenAmount[] = []\n  for (const covalentResult of result.data.data.items) {\n    const localToken = findTokenByChainIdAndAddress(chainId, covalentResult.contract_address)\n    const amount = new BigNumber(covalentResult.balance)\n      .shiftedBy(-covalentResult.contract_decimals)\n      .toString()\n    const priceUSD = new BigNumber(covalentResult.quote_rate || 0).toString()\n\n    if (localToken) {\n      tokenAmounts.push({\n        ...localToken,\n        priceUSD,\n        amount,\n      })\n    } else {\n      tokenAmounts.push({\n        address: covalentResult.contract_address,\n        name: covalentResult.contract_name,\n        coinKey: covalentResult.contract_ticker_symbol as CoinKey,\n        chainId,\n        symbol: covalentResult.contract_ticker_symbol,\n        logoURI: covalentResult.logo_url,\n        decimals: covalentResult.contract_decimals,\n        priceUSD,\n        amount,\n      })\n    }\n  }\n\n  return tokenAmounts\n}\n\nconst getBalances = async (walletAdress: string, onChains?: ChainId[]): Promise<TokenAmount[]> => {\n  let requestedChains: ChainId[]\n  if (onChains) {\n    requestedChains = onChains.filter((chainId) => {\n      if (COVALENT_SUPPORTED_CHAINS.indexOf(chainId) !== -1) {\n        return true\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn(`Trying to request unsupported chain ${chainId} from Covalent.`)\n        return false\n      }\n    })\n  } else {\n    requestedChains = COVALENT_SUPPORTED_CHAINS\n  }\n\n  const promises: Promise<TokenAmount[]>[] = requestedChains.map((chainId) =>\n    getBalanceOnChain(walletAdress, chainId),\n  )\n\n  const result = await Promise.all(promises)\n\n  return result.flat()\n}\n\nexport default {\n  getBalances,\n}\n","import {\n  ChainId,\n  CoinKey,\n  findTokenByChainIdAndAddress,\n  getChainById,\n  TokenAmount,\n} from '@lifinance/sdk'\nimport axios from 'axios'\nimport { BigNumber } from 'bignumber.js'\nimport { ethers } from 'ethers'\n\ntype DebankResultItem = {\n  id: string\n  chain: string\n  name: string\n  symbol: string\n  display_symbol: string\n  optimized_symbol: string\n  decimals: number\n  logo_url: string\n  price: number\n  is_verified: boolean\n  is_core: boolean\n  is_wallet: boolean\n  time_at: number\n  amount: number\n}\n\n// Crazy Wallet for testing token parsing: 0x5853ed4f26a3fcea565b3fbc698bb19cdf6deb85\n// Available Chains: https://openapi.debank.com/docs\nconst chainNameMapping: { [ChainName: string]: ChainId } = {\n  eth: ChainId.ETH,\n  bsc: ChainId.BSC,\n  xdai: ChainId.DAI,\n  matic: ChainId.POL,\n  ftm: ChainId.FTM,\n  okt: ChainId.OKT,\n  heco: ChainId.HEC,\n  avax: ChainId.AVA,\n  arb: ChainId.ARB,\n  // celo: Celo\n  movr: ChainId.MOR,\n  // cro\n  // boba\n}\n\nconst supportedChains = Object.values(chainNameMapping)\n\nconst mapDebankChainNameToChainId = (chainName: string): ChainId => {\n  return chainNameMapping[chainName]\n}\n\nconst getBalances = async (walletAdress: string): Promise<TokenAmount[]> => {\n  const tokenListUrl = `https://openapi.debank.com/v1/user/token_list?id=${walletAdress}&is_all=true`\n\n  var result\n  try {\n    result = await axios.get<DebankResultItem[]>(tokenListUrl)\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(`Debank api call for token list failed with status ` + e)\n    throw e\n  }\n\n  // response body is empty?\n  var debankResult: DebankResultItem[] = Object.keys(result.data).length === 0 ? [] : result.data\n\n  // build return object\n  const tokenAmounts: TokenAmount[] = []\n\n  for (const debankResultItem of debankResult) {\n    const chainId = mapDebankChainNameToChainId(debankResultItem.chain)\n    let chain\n    try {\n      chain = getChainById(chainId)\n    } catch {\n      // unknown chain\n      continue\n    }\n    const tokenAddress = ethers.utils.isAddress(debankResultItem.id)\n      ? debankResultItem.id\n      : '0x0000000000000000000000000000000000000000'\n    const localToken = findTokenByChainIdAndAddress(chain.id, tokenAddress)\n    const amount = new BigNumber(debankResultItem.amount).toString()\n    const priceUSD = debankResultItem.price\n      ? new BigNumber(debankResultItem.price).toString()\n      : undefined\n\n    if (localToken) {\n      tokenAmounts.push({\n        ...localToken,\n        amount,\n        priceUSD,\n      })\n    } else {\n      tokenAmounts.push({\n        address: tokenAddress,\n        name: debankResultItem.name,\n        coinKey: debankResultItem.symbol as CoinKey,\n        chainId: chain.id,\n        symbol: debankResultItem.optimized_symbol,\n        logoURI: debankResultItem.logo_url,\n        decimals: debankResultItem.decimals,\n        amount,\n        priceUSD,\n      })\n    }\n  }\n\n  return tokenAmounts\n}\n\nexport default {\n  supportedChains,\n  getBalances,\n}\n","import { ChainId } from '@lifinance/sdk'\n\ntype BlockedTokens = {\n  [ChainKey: string]: Array<string>\n}\n\nexport const blockedTokens: BlockedTokens = {\n  [ChainId.ETH]: [\n    '0x82dfdb2ec1aa6003ed4acba663403d7c2127ff67', // akSwap.io - scam\n  ],\n  [ChainId.BSC]: [\n    '0x119e2ad8f0c85c6f61afdf0df69693028cdc10be', // Zepe.io - scam\n    '0xb0557906c617f0048a700758606f64b33d0c41a6', // Zepe.io - scam\n    '0xbc6675de91e3da8eac51293ecb87c359019621cf', // BestAir.io - scam\n    '0xb926beb62d7a680406e06327c87307c1ffc4ab09', // AlpacaDrop.Org - ??\n    '0xb16600c510b0f323dee2cb212924d90e58864421', // GoFlux.io - ??\n    '0x8ee3e98dcced9f5d3df5287272f0b2d301d97c57', // AirStack.net - scam\n    '0x5558447b06867ffebd87dd63426d61c868c45904', // https://bnbw.me/ - scam\n    '0x373233a38ae21cf0c4f9de11570e7d5aa6824a1e', // ALPACAFIN.COM - scam\n    '0x0198be93b7cae38da7e2fd966946412cc36447bf', // BSCmello.io - scam\n    '0xa43d8b1f070b8e2fd2de4e01369369d5fd7d4784', // melloBsc.com - scam\n    '0xd5e3bf9045cfb1e6ded4b35d1b9c34be16d6eec3', // LinkP.io - scam\n    '0x442b656f5a5c3dd09790951810c5a15ea5295b51', // Tu7.org - scam\n    '0x27b880865395da6cda9c407e5edfcc32184cf429', // Dex88.org\n    '0x893c25c46bfaa9b66cd557837d32af3fe264a07b', // PowNFT.net\n    '0x556798dd55db12562a6950ea8339a273539b0495', // Def8.io\n    '0x0d05a204e27e4815f1f5afdb9d82aa221aa0bdfa', // GemSwap.net\n    '0xd22202d23fe7de9e3dbe11a2a88f42f4cb9507cf', // Minereum BSC\n  ],\n  [ChainId.POL]: [\n    '0xe4fb1bb8423417a460286b0ed44b64e104c5fae5', // Zepe.io - scam\n    '0x8ae127d224094cb1b27e1b28a472e588cbcc7620', // https://aaxexchange.org/ - scam\n    '0x6142f62e7996faec5c5bb9d10669d60299d69dfe', // buy SpaceRat.Finance - spam\n    '0x19a935cbaaa4099072479d521962588d7857d717', // Litcoin - fake\n    '0x0364c8dbde082372e8d6a6137b45613dd0f8138a', // https://polybest.org/ - scam\n    '0x81067076dcb7d3168ccf7036117b9d72051205e2', // DxDex.io - scam\n    '0x2fd23d735860bc64090d9807ff6c0d1a3d721f08', // softbalanced.com\n    '0x80a3f315542f7ff2149fd75a74a964c13de6c7fe', // BUY THRUST - https://t.me/thrust_zone'\n    '0xa39b14f57087aa5f16b941e5ec182b84a5432aa7', // BeezEX.Net\n    '0xcbf4ab00b6aa19b4d5d29c7c3508b393a1c01fe3', // MegaDoge.Org\n    '0x02677c45fa858b9ffec24fc791bf72cdf4a8a8df', // RicheSwap.io - steal keys\n    '0x1cc384b6f900a947eb3bbfc47417afeee7599e24', // yui.finance - offline\n    '0x8a0b040f27407d7a603bca701b857f8f81a1c7af', // Buy Polydoge - fake\n    '0x9e2d266d6c90f6c0d80a88159b15958f7135b8af', // https://stakeshare.org/polygon - scam\n    '0xa9316e1909edf3ed33b0dd1c6631c50b82c6e142', // A NFTSprites.com - ??\n    '0xdad0d08d5b0544fc853682c6ca07eaab201bd550', // auto-stake.com - offline\n    '0x22e51bae3f545255e115090202a23c7ede0b00b9', // LELX.io\n    '0xe06bd4f5aac8d0aa337d13ec88db6defc6eaeefe', // PlanetIX\n    '0x2744861accb5bd435017c1cfee789b6ebab42082', // AeFX.io\n    '0xa85f8a198d59f0fda82333be9aeeb50f24dd59ff', // FlowDAO.io\n    '0xd7f1d4f5a1b44d827a7c3cc5dd46a80fade55558', // Zers.io\n  ],\n  [ChainId.DAI]: [\n    '0x0f1b956128ac17407c29c5600983c6cedf3b2820', // softbalanced.com\n  ],\n}\n","import { TokenAmount } from '@lifinance/sdk'\n\nimport { blockedTokens } from './config'\n\nexport const filterBlockedTokenAmounts = (tokenAmounts: TokenAmount[]) => {\n  return tokenAmounts.filter(\n    ({ chainId, address }) => !(blockedTokens[chainId] && blockedTokens[chainId].includes(address)),\n  )\n}\n","import LiFi, { ChainId, ChainKey, Token, TokenAmount } from '@lifinance/sdk'\n\nimport { defaultTokens } from '../../types'\nimport covalent from './covalent'\nimport debank from './debank'\nimport { filterBlockedTokenAmounts } from './utils'\n\nexport const getTokenBalancesFromDebank = async (\n  walletAddress: string,\n  tokens?: Token[],\n): Promise<TokenAmount[]> => {\n  const tokenAmounts: TokenAmount[] = []\n\n  const harmonyToken = tokens && tokens.find((token) => token.chainId === ChainId.ONE)\n\n  // Harmony Support\n  if (harmonyToken) {\n    try {\n      tokenAmounts.push(\n        ...(await LiFi.getTokenBalances(walletAddress, defaultTokens[ChainKey.ONE])),\n      )\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error('Failed access harmony balance', e)\n    }\n  }\n\n  try {\n    const result = await debank.getBalances(walletAddress)\n    tokenAmounts.push(...result)\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn('Failed accessing Debank, switching to covalent', e)\n    const onChains = tokens && tokens.map((token) => token.chainId)\n    const uniqueChains = Array.from(new Set<ChainId>(onChains)) // remove duplicates by putting in  a set\n    tokenAmounts.push(...(await covalent.getBalances(walletAddress, uniqueChains)))\n  }\n\n  let requestedTokens: TokenAmount[]\n  if (tokens) {\n    requestedTokens = tokenAmounts.filter((tokenAmount) =>\n      tokens.find((token) => token.address === tokenAmount.address),\n    )\n  } else {\n    requestedTokens = tokenAmounts\n  }\n\n  return filterBlockedTokenAmounts(requestedTokens)\n}\n\nexport const getTokenBalanceFromDebank = async (\n  walletAddress: string,\n  token: Token,\n): Promise<TokenAmount | null> => {\n  const tokenAmounts = await getTokenBalancesFromDebank(walletAddress, [token])\n  return tokenAmounts.length ? tokenAmounts[0] : null\n}\n\nexport const getTokenBalancesForChainsFromDebank = async (\n  walletAddress: string,\n  tokensByChain?: { [chainId: number]: Token[] },\n): Promise<{ [chainId: number]: TokenAmount[] }> => {\n  const tokenAmounts = await getTokenBalancesFromDebank(\n    walletAddress,\n    tokensByChain ? Object.values(tokensByChain).flat() : undefined,\n  )\n\n  const result: { [chainId: number]: TokenAmount[] } = {}\n  tokenAmounts.forEach((tokenAmount) => {\n    if (!result[tokenAmount.chainId]) {\n      result[tokenAmount.chainId] = []\n    }\n\n    result[tokenAmount.chainId].push(tokenAmount)\n  })\n\n  for (const key in ChainId) {\n    const chainId = parseInt(ChainId[key])\n    if (!result[chainId]) {\n      result[chainId] = []\n    }\n  }\n\n  return result\n}\n","import { Route, Status } from '../types'\n\nconst isSupported = () => {\n  try {\n    var itemBackup = localStorage.getItem('')\n    localStorage.removeItem('')\n    if (itemBackup === null) localStorage.removeItem('')\n    else localStorage.setItem('', itemBackup)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n\n// TODO: Migrating old localStorage key. Can be removed after being deployed for a while (deployed on 17.12.2021)\nconst migrateOldProperties = () => {\n  if (!isSupported()) return\n  const alreadyMigrated = localStorage.getItem('routes')\n  if (alreadyMigrated) return\n\n  const oldRoutes = localStorage.getItem('activeRoute')\n  if (oldRoutes) {\n    localStorage.setItem('routes', oldRoutes)\n  }\n  localStorage.removeItem('activeRoute')\n}\n\nmigrateOldProperties()\n\nconst clearLocalStorage = () => {\n  if (isSupported()) {\n    localStorage.clear()\n  }\n}\n\nconst storeWallets = (wallets: Array<string>) => {\n  if (isSupported()) {\n    const lowerCaseWallets = wallets.map((address) => address.toLowerCase())\n    localStorage.setItem('wallets', JSON.stringify(Array.from(new Set(lowerCaseWallets))))\n  }\n}\n\nconst readWallets = (): Array<string> => {\n  if (!isSupported()) {\n    return []\n  }\n  const walletsString = localStorage.getItem('wallets')\n  if (walletsString) {\n    try {\n      return JSON.parse(walletsString)\n    } catch (e) {\n      return []\n    }\n  } else {\n    return []\n  }\n}\n\nconst storeDeactivatedWallets = (wallets: string[]) => {\n  if (isSupported()) {\n    const lowerCaseWallets = wallets.map((address) => address.toLowerCase())\n    localStorage.setItem(\n      'deactivatedWallets',\n      JSON.stringify(Array.from(new Set(lowerCaseWallets))),\n    )\n  }\n}\n\nconst readDeactivatedWallets = (): Array<string> => {\n  if (!isSupported()) {\n    return []\n  }\n  const walletsString = localStorage.getItem('deactivatedWallets')\n  if (walletsString) {\n    try {\n      return JSON.parse(walletsString)\n    } catch (e) {\n      return []\n    }\n  } else {\n    return []\n  }\n}\n\nconst storeHideDisconnectPopup = (shouldHide: boolean) => {\n  if (!isSupported()) return\n  localStorage.setItem('hideDisconnetPopup', JSON.stringify(shouldHide))\n}\n\nconst readHideDisconnectPopup = (): boolean => {\n  if (!isSupported()) return false\n  const shouldHideString = localStorage.getItem('hideDisconnetPopup')\n  return JSON.parse(shouldHideString as string) === true\n}\n\nconst storeHideAbout = (hide: boolean) => {\n  if (isSupported()) {\n    localStorage.setItem('nxtpHideDemo', hide ? 'true' : 'false')\n  }\n}\n\nconst readHideAbout = () => {\n  if (!isSupported()) {\n    return true\n  }\n  const value = localStorage.getItem('nxtpHideDemo')\n  return !(value === 'false')\n}\n\nconst storeRoute = (route: Route) => {\n  if (!isSupported()) return\n  const storedRoutes = readAllRoutes()\n  let updatedRoutes: Route[]\n  if (!storedRoutes.length) {\n    updatedRoutes = [route]\n  } else {\n    let replaced = false\n    updatedRoutes = storedRoutes.map((storedRoute) => {\n      if (storedRoute.id === route.id) {\n        storedRoute = route\n        replaced = true\n      }\n      return storedRoute\n    })\n    if (!replaced) {\n      updatedRoutes.push(route)\n    }\n  }\n\n  localStorage.setItem('routes', JSON.stringify(updatedRoutes))\n}\n\nconst deleteRoute = (route: Route) => {\n  if (!isSupported() || !route) {\n    return\n  }\n  const storedRoutes = readAllRoutes()\n  const updatedRoutes = storedRoutes.filter((storedRoute) => storedRoute.id !== route.id)\n\n  localStorage.setItem('routes', JSON.stringify(updatedRoutes))\n}\n\nconst readAllRoutes = (): Array<Route> => {\n  if (!isSupported()) {\n    return [] as Array<Route>\n  }\n  const routeString = localStorage.getItem('routes')\n\n  if (routeString) {\n    try {\n      const routes = JSON.parse(routeString) as Array<Route>\n      return routes as Array<Route>\n    } catch (e) {\n      return [] as Array<Route>\n    }\n  } else {\n    return [] as Array<Route>\n  }\n}\n\nconst sortRoutesByExecutionDate = (routes: Route[]): Route[] =>\n  routes.sort((routeA, routeB) => {\n    if (!routeA.steps[0].execution?.process.length) {\n      return -1 // A doesn't have an execution, so move it to the top of the list\n    }\n    if (!routeB.steps[0].execution?.process.length) {\n      return 1 // B doesn't have an execution, so move it to the top of the list\n    }\n\n    return (\n      routeB.steps[0].execution.process[0].startedAt -\n      routeA.steps[0].execution.process[0].startedAt\n    )\n  })\n\nconst HISTORICAL_STATI: Status[] = ['DONE', 'CANCELLED']\n\nconst readHistoricalRoutes = (): Array<Route> => {\n  if (!isSupported()) {\n    return [] as Array<Route>\n  }\n  const routes = readAllRoutes()\n  const historicalRoutes = routes.filter((route) =>\n    route.steps.every(\n      (step) => step.execution?.status && HISTORICAL_STATI.includes(step.execution.status),\n    ),\n  )\n  return sortRoutesByExecutionDate(historicalRoutes)\n}\n\nconst readActiveRoutes = (): Array<Route> => {\n  if (!isSupported()) {\n    return [] as Array<Route>\n  }\n  const routes = readAllRoutes()\n  const activeRoutes = routes.filter(\n    (route) =>\n      !route.steps.every(\n        (step) => step.execution?.status && HISTORICAL_STATI.includes(step.execution.status),\n      ),\n  )\n\n  return sortRoutesByExecutionDate(activeRoutes)\n}\n\nexport {\n  clearLocalStorage,\n  deleteRoute,\n  isSupported,\n  readActiveRoutes,\n  readDeactivatedWallets,\n  readHideAbout,\n  readHideDisconnectPopup,\n  readHistoricalRoutes,\n  readWallets,\n  sortRoutesByExecutionDate,\n  storeDeactivatedWallets,\n  storeHideAbout,\n  storeHideDisconnectPopup,\n  storeRoute,\n  storeWallets,\n}\n","import BigNumber from 'bignumber.js'\n\nimport { Token } from '../types'\nimport { readDeactivatedWallets } from './localStorage'\n\nexport const formatTokenAmount = (token: Token, amount: string | undefined) => {\n  if (!amount) {\n    return '- ' + token.symbol\n  }\n\n  return formatTokenAmountOnly(token, amount) + ' ' + token.symbol\n}\n\nexport const formatTokenAmountOnly = (token: Token, amount: string | BigNumber | undefined) => {\n  if (!amount) {\n    return '0.0'\n  }\n\n  let floated\n  if (typeof amount === 'string') {\n    if (amount === '0') {\n      return '0.0'\n    }\n\n    floated = new BigNumber(amount).shiftedBy(-token.decimals)\n  } else {\n    floated = amount\n\n    if (floated.isZero()) {\n      return '0.0'\n    }\n  }\n\n  // show at least 4 decimal places and at least two non-zero digests\n  let decimalPlaces = 3\n  // since values can in theory be negative we need to use the absolute value to determine the decimal places\n  while (floated.absoluteValue().lt(1 / 10 ** decimalPlaces)) decimalPlaces++\n  return floated.toFixed(decimalPlaces + 1, 1)\n}\n\nexport const deepClone = (src: any) => {\n  return JSON.parse(JSON.stringify(src))\n}\n\nexport const sleep = (mills: number) => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, mills)\n  })\n}\n\nexport const isWalletDeactivated = (address: string | null | undefined): boolean => {\n  if (!address) return false\n  const lowerCaseAddress = address.toLowerCase()\n  const deactivatedWallets = readDeactivatedWallets()\n  const deactivatedAddresses = deactivatedWallets.map((address) => address.toLowerCase())\n  return deactivatedAddresses.includes(lowerCaseAddress)\n}\n\n/**\n * Parses seconds as time string in the format \"02:25\"\n * @param seconds\n */\nexport const parseSecondsAsTime = (seconds: number): string => {\n  if (isNaN(seconds) || seconds < 0) {\n    return ' - '\n  }\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.ceil(seconds % 60)\n  const prefix = remainingSeconds < 10 ? '0' : ''\n  return `${minutes}:${prefix}${remainingSeconds}`\n}\n","import { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '@web3-react/network-connector'\nimport { providers } from 'ethers'\n\nimport { ChainId, getChainById, multicallAddresses, supportedChains } from '../../types'\n\nconst customRpc: Record<number, string | undefined> = {\n  [ChainId.ETH]: process.env.REACT_APP_RPC_URL_MAINNET,\n  [ChainId.POL]: process.env.REACT_APP_RPC_URL_POLYGON,\n  [ChainId.BSC]: process.env.REACT_APP_RPC_URL_BSC,\n  [ChainId.DAI]: process.env.REACT_APP_RPC_URL_XDAI,\n  [ChainId.FTM]: process.env.REACT_APP_RPC_URL_FANTOM,\n  [ChainId.ARB]: process.env.REACT_APP_RPC_URL_ARBITRUM,\n\n  // Testnet\n  [ChainId.ROP]: process.env.REACT_APP_RPC_URL_ROPSTEN,\n  [ChainId.RIN]: process.env.REACT_APP_RPC_URL_RINKEBY,\n  [ChainId.GOR]: process.env.REACT_APP_RPC_URL_GORLI,\n  [ChainId.KOV]: process.env.REACT_APP_RPC_URL_KOVAN,\n  [ChainId.ARBT]: process.env.REACT_APP_RPC_URL_ARBITRUM_RINKEBY,\n  [ChainId.OPTT]: process.env.REACT_APP_RPC_URL_OPTIMISM_KOVAN,\n  [ChainId.MUM]: process.env.REACT_APP_RPC_URL_POLYGON_MUMBAI,\n  [ChainId.BSCT]: process.env.REACT_APP_RPC_URL_BSC_TESTNET,\n}\n\n// cached providers\nconst chainProviders: Record<number, providers.FallbackProvider> = {}\n\nexport const getRpcUrl = (chainId: number) => {\n  return customRpc[chainId] || getChainById(chainId).metamask.rpcUrls[0]\n}\n\nexport const getMulticallAddresse = (chainId: number) => {\n  return multicallAddresses[chainId]\n}\n\nexport const getMulticallAddresses = (chainIds: Array<number>) => {\n  const addresses: Record<number, string> = {}\n  chainIds.forEach((chainId) => {\n    addresses[chainId] = getMulticallAddresse(chainId)\n  })\n  return addresses\n}\n\nexport const getRpcProvider = (chainId: number) => {\n  if (!chainProviders[chainId]) {\n    chainProviders[chainId] = new providers.FallbackProvider([\n      new providers.JsonRpcProvider(getRpcUrl(chainId), chainId),\n    ])\n  }\n  return chainProviders[chainId]\n}\n\nexport const getRpcProviders = (chainIds: Array<number>) => {\n  const selectedProviders: Record<number, providers.FallbackProvider> = {}\n  chainIds.forEach((chainId) => {\n    selectedProviders[chainId] = getRpcProvider(chainId)\n  })\n  return selectedProviders\n}\n\nexport const getRpcUrls = (chainIds: Array<number>) => {\n  const selectedProviders: Record<number, string[]> = {}\n  chainIds.forEach((chainId) => {\n    selectedProviders[chainId] = [getRpcUrl(chainId)]\n  })\n  return selectedProviders\n}\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: supportedChains.map((chain) => chain.id),\n})\n\n// get our standard supported chain and try to append the possibly unknown chain the user is on\nexport const getInjectedConnector = async () => {\n  const { ethereum } = window as any\n  const currentProvider = new providers.Web3Provider(ethereum)\n  const chainId = (await currentProvider.getNetwork()).chainId\n  // append the current chain to the supported chains.\n  // can push duplicate ids, when user is on supported chain but that does not seem to make any problems.\n  const chains = [...supportedChains.map((chain) => chain.id), chainId]\n  return new InjectedConnector({\n    supportedChainIds: chains,\n  })\n}\n\nexport const network = new NetworkConnector({\n  urls: Object.fromEntries(\n    supportedChains.map((chain) => chain.id).map((chainId) => [chainId, getRpcUrl(chainId)]),\n  ),\n  defaultChainId: ChainId.ETH,\n})\n","import { WalletOutlined } from '@ant-design/icons'\nimport { useWeb3React } from '@web3-react/core'\nimport { Button } from 'antd'\n\nimport {\n  readDeactivatedWallets,\n  readWallets,\n  storeDeactivatedWallets,\n  storeWallets,\n} from '../../services/localStorage'\nimport { getInjectedConnector, injected } from './connectors'\n\nconst addToActiveWallets = (address: string | null | undefined) => {\n  if (!address) return\n  const lowerCaseAddress = address.toLowerCase()\n  const activeWallets = readWallets()\n  activeWallets.push(lowerCaseAddress)\n  storeWallets(activeWallets)\n}\n\nconst removeFromDeactivatedWallets = (address: string | null | undefined) => {\n  if (!address) return\n  const lowerCaseAddress = address.toLowerCase()\n  const deactivatedWallets = readDeactivatedWallets()\n  const deactivatedWalletsWithoutAccount = deactivatedWallets.filter(\n    (wallet) => wallet !== lowerCaseAddress,\n  )\n  storeDeactivatedWallets(deactivatedWalletsWithoutAccount)\n}\n\ntype ConnectButtonPropType = {\n  style?: React.CSSProperties\n  className?: string\n}\n\nfunction ConnectButton({ style, className }: ConnectButtonPropType) {\n  const { activate } = useWeb3React()\n\n  const handleConnect = async () => {\n    const accountAddress = await injected.getAccount()\n    removeFromDeactivatedWallets(accountAddress)\n    addToActiveWallets(accountAddress)\n    activate(await getInjectedConnector())\n  }\n\n  return (\n    <Button\n      className={className}\n      style={{ ...{ borderRadius: '6px' }, ...style }}\n      type=\"primary\"\n      icon={<WalletOutlined />}\n      onClick={async () => await handleConnect()}>\n      Connect with MetaMask\n    </Button>\n  )\n}\n\nexport default ConnectButton\n","import './Dashboard.css'\n\nimport {\n  CheckCircleTwoTone,\n  CloseCircleTwoTone,\n  DeleteOutlined,\n  SyncOutlined,\n  WalletOutlined,\n} from '@ant-design/icons'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  Avatar,\n  Badge,\n  Button,\n  Col,\n  Input,\n  Modal,\n  Row,\n  Skeleton,\n  Table,\n  Tooltip,\n  Typography,\n} from 'antd'\nimport { Content } from 'antd/lib/layout/layout'\nimport BigNumber from 'bignumber.js'\nimport { ethers } from 'ethers'\nimport React, { useEffect, useState } from 'react'\n\nimport { getTokenBalancesForChainsFromDebank } from '../services/balances'\nimport { readWallets } from '../services/localStorage'\nimport { isWalletDeactivated } from '../services/utils'\nimport {\n  Amounts,\n  ChainId,\n  ChainKey,\n  chainKeysToObject,\n  Coin,\n  CoinKey,\n  ColomnType,\n  DataType,\n  defaultCoins,\n  getChainByKey,\n  SummaryAmounts,\n  supportedChains,\n  TokenAmount,\n  Wallet,\n  WalletSummary,\n} from '../types'\nimport ConnectButton from './web3/ConnectButton'\n\nconst visibleChains: ChainId[] = [\n  ChainId.ETH,\n  ChainId.POL,\n  ChainId.BSC,\n  ChainId.DAI,\n  ChainId.FTM,\n  ChainId.OKT,\n  ChainId.AVA,\n  ChainId.ARB,\n  ChainId.HEC,\n  ChainId.MOR,\n]\n\nconst emptySummaryAmounts: SummaryAmounts = {\n  amount_usd: new BigNumber(0),\n  percentage_of_portfolio: new BigNumber(0),\n}\n\nconst emptyWallet = {\n  address: '0x..',\n  loading: true,\n  portfolio: chainKeysToObject([]),\n}\n\nlet coins = defaultCoins.filter((coin) => coin.key !== CoinKey.TEST)\n\n// individual render functions\nfunction renderAmounts(\n  amounts: Amounts = { amount_coin: new BigNumber(-1), amount_usd: new BigNumber(-1) },\n) {\n  if (amounts.amount_coin.eq(-1)) {\n    // loading\n    return (\n      <div className=\"amounts\">\n        <div className=\"amount_coin\">\n          <Skeleton.Button style={{ width: 70 }} active={true} size={'small'} shape={'round'} />\n        </div>\n        <div className=\"amount_usd\">\n          <Skeleton.Button\n            style={{ width: 60, height: 18 }}\n            active={true}\n            size={'small'}\n            shape={'round'}\n          />\n        </div>\n      </div>\n    )\n  } else if (amounts.amount_coin.isZero()) {\n    // empty\n    return (\n      <div className=\"amounts amounts-empty\">\n        <div className=\"amount_coin\">00.0000</div>\n        <div className=\"amount_usd\">00.00</div>\n      </div>\n    )\n  } else {\n    // default\n    return (\n      <div className={'amounts' + (amounts.amount_coin.isZero() ? ' amounts-empty' : '')}>\n        <div className=\"amount_coin\">{amounts.amount_coin.toFixed(4)}</div>\n        <div className=\"amount_usd\">{amounts.amount_usd.toFixed(2)} USD</div>\n      </div>\n    )\n  }\n}\n\nfunction renderCoin(coin: Coin) {\n  return (\n    <div className=\"coin\">\n      <Tooltip title={coin.name + (coin.verified ? ' (verified)' : '')}>\n        <Avatar src={coin.logoURI} alt={coin.name}>\n          {coin.key}\n        </Avatar>\n        <Badge\n          className=\"coin_verify\"\n          count={\n            coin.verified ? (\n              <CheckCircleTwoTone twoToneColor=\"#52c41a\" />\n            ) : (\n              <CloseCircleTwoTone twoToneColor=\"#eb2f96\" />\n            )\n          }></Badge>\n      </Tooltip>\n    </div>\n  )\n}\n\nfunction renderSummary(summary: SummaryAmounts) {\n  summary.amount_usd = new BigNumber(summary.amount_usd) // Ugly fix\n  return (\n    <div className=\"amounts\">\n      <div className=\"amount_coin\">{summary.amount_usd.toFixed(2)} USD</div>\n      <div className=\"amount_usd\">\n        {summary.percentage_of_portfolio.shiftedBy(2).toFixed(2)} % of portfolio\n      </div>\n    </div>\n  )\n}\n\nconst showGasModal = (gas: ChainKey) => {\n  switch (gas) {\n    case ChainKey.ETH:\n      Modal.info({\n        title: 'Gas Info for ethereum chain',\n        content: (\n          <div>\n            <p>Find out how to get ETH:</p>\n            <a href=\"https://ethereum.org/en/get-eth/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              Where to buy ETH (by ethereum.org)\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.POL:\n      Modal.info({\n        title: 'Gas Info for Polygon/Matic chain',\n        content: (\n          <div>\n            <p>\n              You can get some free MATIC using those faucets. It should be enough to exchange or\n              move your funds.\n            </p>\n            <ul>\n              <li>\n                <a href=\"https://matic.supply/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n                  https://matic.supply/\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://macncheese.finance/matic-polygon-mainnet-faucet.php\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  https://macncheese.finance/\n                </a>\n              </li>\n            </ul>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.BSC:\n      Modal.info({\n        title: 'Gas Info for Binance Smart Chain',\n        content: (\n          <div>\n            <p>You need to buy BNB.</p>\n            e.g. on{' '}\n            <a href=\"https://www.binance.com/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              binance.com\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.DAI:\n      Modal.info({\n        title: 'Gas Info for Gnosis chain',\n        content: (\n          <div>\n            <p>\n              You can get some free DAI using those faucets. It should be enough to exchange or move\n              your funds.\n            </p>\n            <ul>\n              <li>\n                <a href=\"https://xdai-faucet.top/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n                  https://xdai-faucet.top/\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://xdai-app.herokuapp.com/faucet\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  https://xdai-app.herokuapp.com/faucet\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://blockscout.com/xdai/mainnet/faucet\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  https://blockscout.com/.../faucet\n                </a>\n              </li>\n            </ul>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.FTM:\n      Modal.info({\n        title: 'Gas Info for FTM chain',\n        content: (\n          <div>\n            <p>Find out how to get ETH:</p>\n            <a\n              href=\"https://fantom.foundation/where-to-buy-ftm/\"\n              target=\"_blank\"\n              rel=\"nofollow noreferrer\">\n              Where to buy ETH (by fantom.foundation)\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.OKT:\n      Modal.info({\n        title: 'Gas Info for OKExChain chain',\n        content: (\n          <div>\n            <p>Find out how to get OKT:</p>\n            <a href=\"https://www.okex.com/okexchain\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              Where to buy OKT (by okex.com)\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.AVA:\n      Modal.info({\n        title: 'Gas Info for Avalanche chain',\n        content: (\n          <div>\n            <p>Find out how to get AVAX:</p>\n            <a href=\"https://www.avax.network/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              Where to buy AVAX (by avax.network)\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.RIN:\n      Modal.info({\n        title: 'Gas Info for Rinkeby Testnet',\n        content: (\n          <div>\n            <p>Find out how to get ETH:</p>\n            <a href=\"https://faucet.rinkeby.io/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              Official Faucet\n            </a>\n          </div>\n        ),\n      })\n      break\n    case ChainKey.GOR:\n      Modal.info({\n        title: 'Gas Info for Goerli Testnet',\n        content: (\n          <div>\n            <p>Find out how to get ETH:</p>\n            <a href=\"https://goerli-faucet.slock.it/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n              Faucet\n            </a>\n          </div>\n        ),\n      })\n      break\n  }\n}\n\nconst tooltipsEmpty: { [ChainKey: string]: JSX.Element } = {}\nconst tooltips: { [ChainKey: string]: any } = {}\nfor (const k in ChainKey) {\n  const key = k.toLowerCase() as ChainKey\n  const chain = getChainByKey(key)\n  tooltips[key] = (\n    <>\n      The ${chain.name} chain requires ${chain.coin} to pay for gas.\n    </>\n  )\n  tooltipsEmpty[key] = (\n    <>\n      <span>\n        The ${chain.name} requires ${chain.coin} to pay for gas. Without it you won't be able to do\n        anything on this chain.\n      </span>\n      <Button type=\"default\" block onClick={() => showGasModal(key)}>\n        Get ${chain.coin}\n      </Button>\n    </>\n  )\n}\n\n// render formatters\nfunction renderGas(wallet: Wallet, chainKey: ChainKey, coinName: CoinKey) {\n  const coin = coins.find((coin) => coin.key === coinName)\n  const isChainUsed = wallet.portfolio[chainKey]?.length > 0\n  const inPortfolio = wallet.portfolio[chainKey]?.find(\n    (tokenAmount) =>\n      tokenAmount.address === '0x0000000000000000000000000000000000000000' ||\n      tokenAmount.address === coin?.chains[chainKey]?.address,\n  )\n  const amounts: Amounts = inPortfolio\n    ? parsePortfolioToAmount(inPortfolio)\n    : { amount_coin: new BigNumber(0), amount_usd: new BigNumber(0) }\n\n  const tooltipEmpty = tooltipsEmpty[chainKey]\n  const tooltip = tooltips[chainKey]\n  return (\n    <div className=\"gas\">\n      <div className=\"amount_coin\">\n        {amounts.amount_coin.eq(-1) ? (\n          <Tooltip title={tooltip}>\n            {coinName}:{' '}\n            <Skeleton.Button style={{ width: 60 }} active={true} size={'small'} shape={'round'} />\n          </Tooltip>\n        ) : amounts.amount_coin.isZero() ? (\n          <Tooltip color={isChainUsed ? 'red' : 'gray'} title={tooltipEmpty}>\n            {coinName}: -\n            <Badge\n              size=\"small\"\n              count={'!'}\n              offset={[5, -15]}\n              style={{ backgroundColor: isChainUsed ? 'red' : 'gray' }}\n            />\n          </Tooltip>\n        ) : (\n          <Tooltip title={tooltip}>\n            {coinName}: {amounts.amount_coin.toFixed(4)}\n          </Tooltip>\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst renderWalletColumnTitle = (\n  address: string,\n  syncHandler: Function,\n  deleteHandler: Function,\n) => {\n  return (\n    <Row>\n      <Col span={12} offset={6}>\n        {`${address.substr(0, 4)}...${address.substr(-4, 4)}`}\n      </Col>\n      <Col span={1} offset={4}>\n        <SyncOutlined onClick={() => syncHandler()} />\n      </Col>\n      <Col span={1} offset={0}>\n        <DeleteOutlined onClick={() => deleteHandler()} />\n      </Col>\n    </Row>\n  )\n}\n//Helpers\nconst parsePortfolioToAmount = (inPortfolio: TokenAmount) => {\n  const amount = new BigNumber(inPortfolio.amount)\n  const subAmounts: Amounts = {\n    amount_coin: amount,\n    amount_usd: amount.times(inPortfolio.priceUSD || '0'),\n  }\n  return subAmounts\n}\nconst baseWidth = 150\nconst buildColumnForWallet = (wallet: Wallet, syncHandler: Function, deleteHandler: Function) => {\n  const walletColumn: ColomnType = {\n    title: renderWalletColumnTitle(wallet.address, syncHandler, deleteHandler),\n    dataIndex: wallet.address,\n    children: supportedChains\n      .filter((chain) => visibleChains.includes(chain.id))\n      .map((chain) => {\n        return {\n          title: chain.name,\n          children: [\n            {\n              title: renderGas(wallet, chain.key, chain.coin),\n              dataIndex: `${wallet.address}_${chain.key}`,\n              width: baseWidth,\n              render: renderAmounts,\n            },\n          ],\n        }\n      }),\n  }\n  return walletColumn\n}\n\nconst coinColumn: ColomnType = {\n  title: 'Coins',\n  fixed: 'left',\n  dataIndex: 'coin',\n  render: renderCoin,\n  width: 60,\n}\nconst portfolioColumn: ColomnType = {\n  title: 'Portfolio',\n  width: baseWidth + 10,\n  dataIndex: 'portfolio',\n  render: renderAmounts,\n}\n\nconst initialColumns = [\n  coinColumn,\n  portfolioColumn,\n  buildColumnForWallet(\n    emptyWallet,\n    () => {},\n    () => {},\n  ),\n  {\n    title: <Button>Add Wallet</Button>,\n    dataIndex: '',\n    width: 100,\n  },\n]\n\nconst initialRows: Array<DataType> = coins.map((coin) => {\n  return {\n    key: coin.key,\n    coin: coin as Coin,\n    portfolio: { amount_coin: new BigNumber(-1), amount_usd: new BigNumber(-1) },\n    ...chainKeysToObject({ amount_coin: new BigNumber(-1), amount_usd: new BigNumber(-1) }),\n  }\n})\n\nconst calculateWalletSummary = (wallet: Wallet, totalSumUsd: BigNumber) => {\n  var summary: WalletSummary = {\n    wallet: wallet.address,\n    chains: chainKeysToObject({\n      amount_usd: new BigNumber(0),\n      percentage_of_portfolio: new BigNumber(0),\n    }),\n  }\n\n  Object.values(ChainKey).forEach((chain) => {\n    wallet.portfolio[chain]?.forEach((tokenAmount) => {\n      summary.chains[chain].amount_usd = new BigNumber(summary.chains[chain].amount_usd) // chainKeysToObject retruns string\n      summary.chains[chain].amount_usd = tokenAmount.priceUSD\n        ? summary.chains[chain].amount_usd.plus(\n            new BigNumber(tokenAmount.amount).times(new BigNumber(tokenAmount.priceUSD)),\n          )\n        : summary.chains[chain].amount_usd\n    })\n    summary.chains[chain].percentage_of_portfolio = wallet.portfolio[chain]\n      ?.reduce(\n        (sum, current) =>\n          current.priceUSD\n            ? sum.plus(new BigNumber(current.amount).times(new BigNumber(current.priceUSD)))\n            : sum,\n        new BigNumber(0),\n      )\n      .div(totalSumUsd)\n  })\n  return summary\n}\n\n// actual component\nconst Dashboard = () => {\n  const [registeredWallets, setRegisteredWallets] = useState<Array<Wallet>>(() =>\n    readWallets().map((address) => ({\n      address: address,\n      loading: false,\n      portfolio: chainKeysToObject([]),\n    })),\n  )\n  const web3 = useWeb3React()\n  const [columns, setColumns] = useState<Array<ColomnType>>(initialColumns)\n  const [walletModalVisible, setWalletModalVisible] = useState(false)\n  const [walletModalAddress, setWalletModalAddress] = useState('')\n  const [walletModalLoading, setWalletModalLoading] = useState<boolean>(false)\n  const [data, setData] = useState<Array<DataType>>(initialRows)\n  // fixes react warning\n  // https://stackoverflow.com/a/63144665\n  const [isSubscribed, setIsSubscribed] = useState<boolean>(true)\n\n  const deleteWallet = (wallet: Wallet) => {\n    setRegisteredWallets((registeredWallets) =>\n      registeredWallets.filter((item) => item.address !== wallet.address),\n    )\n  }\n\n  // update registeredWallets on activate or deactivate\n  useEffect(() => {\n    if (isWalletDeactivated(web3.account)) return\n    setRegisteredWallets(\n      readWallets().map((address) => ({\n        address: address,\n        loading: false,\n        portfolio: chainKeysToObject([]),\n      })),\n    )\n  }, [web3.account])\n\n  const buildWalletColumns = () => {\n    var walletColumns: Array<ColomnType> = []\n    registeredWallets.forEach((wallet) => {\n      const col = buildColumnForWallet(\n        wallet,\n        () => updateWalletPortfolio(wallet),\n        () => deleteWallet(wallet),\n      )\n      walletColumns.push(col)\n    })\n    return walletColumns\n  }\n\n  const buildColumns = (initialBuild: boolean = false) => {\n    const columns = [coinColumn, portfolioColumn]\n    if (initialBuild) {\n      buildColumnForWallet(\n        emptyWallet,\n        () => {},\n        () => {},\n      )\n    } else {\n      buildWalletColumns().map((column) => columns.push(column))\n    }\n    columns.push({\n      title: (\n        <Button onClick={() => setWalletModalVisible(true)} style={{ height: 80 }}>\n          Add\n          <br />\n          Wallet\n        </Button>\n      ),\n      dataIndex: '',\n      width: 100,\n    })\n    return columns\n  }\n\n  //builders\n  const buildRows = () => {\n    const generatedRows: Array<DataType> = []\n    coins.forEach((coin) => {\n      // row object\n      const coinRow: DataType = {\n        key: coin.key,\n        coin: coin as Coin,\n        portfolio: {\n          amount_coin: new BigNumber(0),\n          amount_usd: new BigNumber(0),\n        },\n      }\n      registeredWallets.forEach((wallet) => {\n        Object.values(ChainKey).forEach((chainKey) => {\n          const chain = getChainByKey(chainKey)\n          const emptyAmounts: Amounts = {\n            amount_coin: wallet.loading ? new BigNumber(-1) : new BigNumber(0),\n            amount_usd: wallet.loading ? new BigNumber(-1) : new BigNumber(0),\n          }\n          const inPortfolio = wallet.portfolio[chainKey].find(\n            (e) => e.address === coin.chains[chain.id]?.address,\n          )\n          const cellContent: Amounts = inPortfolio\n            ? parsePortfolioToAmount(inPortfolio)\n            : emptyAmounts\n          coinRow[`${wallet.address}_${chainKey}`] = cellContent\n\n          if (cellContent.amount_coin.gt(0)) {\n            coinRow.portfolio.amount_coin = coinRow.portfolio.amount_coin.plus(\n              cellContent.amount_coin,\n            )\n            coinRow.portfolio.amount_usd = coinRow.portfolio.amount_usd.plus(cellContent.amount_usd)\n          }\n        }) // for each chain\n      }) // for each wallet\n      generatedRows.push(coinRow)\n    }) // for each coin\n\n    // sort\n    generatedRows.sort((a, b) => b.portfolio.amount_coin.minus(a.portfolio.amount_coin).toNumber()) // DESC token\n    generatedRows.sort((a, b) => b.portfolio.amount_usd.minus(a.portfolio.amount_usd).toNumber()) // DESC usd\n\n    return generatedRows\n  }\n\n  const updateWalletPortfolio = async (wallet: Wallet) => {\n    wallet.loading = true\n    setData(buildRows) // set loading state\n\n    const portfolio: { [ChainKey: string]: TokenAmount[] } =\n      await getTokenBalancesForChainsFromDebank(wallet.address)\n\n    for (const chainKey of Object.values(ChainKey)) {\n      const chain = getChainByKey(chainKey)\n      const chainPortfolio = portfolio[chain.id]\n      wallet.portfolio[chainKey] = chainPortfolio\n\n      // add new coins\n      chainPortfolio.forEach((token) => {\n        const exists = coins.find(\n          (existingCoin) => existingCoin.chains[chain.id]?.address === token.address,\n        )\n        if (!exists) {\n          let symbolExists = coins.find((existingCoin) => existingCoin.key === token.symbol)\n          let symbol = token.symbol\n          if (symbolExists) {\n            let symbol_id = 0\n            while (symbolExists) {\n              symbol_id += 1\n              // eslint-disable-next-line no-loop-func\n              symbolExists = coins.find(\n                // eslint-disable-next-line no-loop-func\n                (existingCoin) => existingCoin.key === token.symbol + '_' + symbol_id,\n              )\n            }\n            symbol += '_' + symbol_id\n          }\n\n          let newCoin: Coin = {\n            key: symbol as CoinKey,\n            name: token.name,\n            logoURI: token.logoURI || '',\n            chains: chainKeysToObject(token),\n            verified: false,\n          }\n          coins.push(newCoin)\n        }\n      })\n    }\n\n    wallet.loading = false\n    if (isSubscribed) {\n      setRegisteredWallets(\n        registeredWallets.map((old) => (old.address === wallet.address ? wallet : old)),\n      )\n      setColumns(buildColumns(false))\n      setData(buildRows)\n    }\n  }\n\n  const updateEntirePortfolio = () => {\n    registeredWallets.forEach(async (wallet) => {\n      await updateWalletPortfolio(wallet)\n    })\n  }\n\n  useEffect(() => {\n    setIsSubscribed(true)\n\n    return () => {\n      setIsSubscribed(false)\n    }\n  }, [])\n  useEffect(() => {\n    if (!registeredWallets.length) {\n      setWalletModalVisible(true)\n      setColumns(initialColumns)\n      setData(initialRows)\n    } else {\n      updateEntirePortfolio()\n      setColumns(buildColumns())\n      setData(buildRows)\n    }\n    // eslint-disable-next-line\n  }, [registeredWallets.length])\n\n  const addWallet = (address: string) => {\n    const newWallet = {\n      address: address,\n      loading: true,\n      portfolio: chainKeysToObject([]),\n    }\n    setRegisteredWallets((registeredWallets) => [...registeredWallets, newWallet])\n  }\n\n  // Add Wallet Modal Handlers\n  const resolveEnsName = async (name: string) => {\n    const ethereum = new ethers.providers.JsonRpcProvider(process.env.REACT_APP_RPC_URL_MAINNET)\n    return ethereum.resolveName(name)\n  }\n\n  const handleWalletModalAdd = async () => {\n    setWalletModalLoading(true)\n    let address = getModalAddressSuggestion()\n\n    if (address.endsWith('.eth')) {\n      address = (await resolveEnsName(address)) || ''\n    }\n\n    if (ethers.utils.isAddress(address)) {\n      setWalletModalVisible(false)\n      setWalletModalAddress(' ')\n      addWallet(address)\n    }\n    setWalletModalLoading(false)\n  }\n\n  const handleWalletModalClose = () => {\n    if (!registeredWallets.length) {\n      setWalletModalVisible(true)\n    } else {\n      setWalletModalVisible(false)\n    }\n  }\n\n  const getModalAddressSuggestion = () => {\n    const addedWallets = registeredWallets.map((wallet) => wallet.address)\n    const web3Account =\n      web3.account && addedWallets.indexOf(web3.account) === -1 ? web3.account : ''\n    return walletModalAddress || web3Account\n  }\n\n  let summaryIndex = 0\n  return (\n    <Content className=\"site-layout dashboard\">\n      <div className=\"site-layout-background\" style={{ minHeight: 'calc(100vh - 64px)' }}>\n        <Table\n          columns={columns}\n          dataSource={data}\n          bordered\n          size=\"middle\"\n          scroll={{ x: '1000px', y: 'calc(100vh - 277px)' }}\n          pagination={false}\n          summary={() => (\n            <Table.Summary fixed>\n              <Table.Summary.Row>\n                <Table.Summary.Cell index={summaryIndex} className=\"sum\">\n                  SUM\n                </Table.Summary.Cell>\n                <Table.Summary.Cell index={summaryIndex++}>\n                  {renderSummary(\n                    !registeredWallets.length\n                      ? emptySummaryAmounts\n                      : ({\n                          amount_usd: data.reduce(\n                            (sum, curr) => sum.plus(curr.portfolio.amount_usd),\n                            new BigNumber(0),\n                          ),\n                          percentage_of_portfolio: new BigNumber(1),\n                        } as SummaryAmounts),\n                  )}\n                </Table.Summary.Cell>\n                {registeredWallets.map((wallet: Wallet) => {\n                  const total = data.reduce(\n                    (sum, curr) => sum.plus(curr.portfolio.amount_usd),\n                    new BigNumber(0),\n                  )\n                  const summary = calculateWalletSummary(wallet, total)\n\n                  return supportedChains\n                    .filter((chain) => visibleChains.includes(chain.id))\n                    .map((chain) => {\n                      return (\n                        <Table.Summary.Cell\n                          index={summaryIndex++}\n                          key={`${wallet.address}_${chain.key}`}>\n                          {wallet.loading\n                            ? renderSummary({\n                                amount_usd: new BigNumber(0),\n                                percentage_of_portfolio: new BigNumber(0),\n                              })\n                            : renderSummary(summary.chains[chain.key])}\n                        </Table.Summary.Cell>\n                      )\n                    })\n                })}\n                <Table.Summary.Cell index={summaryIndex++} key={'add'}></Table.Summary.Cell>\n              </Table.Summary.Row>\n            </Table.Summary>\n          )}\n        />\n      </div>\n\n      <Modal\n        title=\"Add Wallet\"\n        visible={walletModalVisible}\n        onOk={handleWalletModalAdd}\n        onCancel={handleWalletModalClose}\n        zIndex={800}\n        closable={!!registeredWallets.length}\n        footer={[\n          // only show close if other wallets have been added already\n          registeredWallets.length ? (\n            <Button key=\"back\" onClick={handleWalletModalClose}>\n              Close\n            </Button>\n          ) : (\n            ''\n          ),\n          <Button\n            key=\"submit\"\n            type=\"primary\"\n            onClick={handleWalletModalAdd}\n            disabled={walletModalLoading}>\n            {walletModalLoading ? 'Loading' : 'Add'}\n          </Button>,\n        ]}>\n        <div className=\"connected-wallets-section\" style={{ marginBottom: '32px' }}>\n          {!web3.account ? (\n            <ConnectButton style={{ display: 'block', margin: ' auto' }} />\n          ) : (\n            <Button shape=\"round\" style={{ display: 'block', margin: ' auto' }}>\n              Connected with {web3.account.substr(0, 4)}...\n            </Button>\n          )}\n        </div>\n        <Typography.Text style={{ display: 'block', margin: '0 auto', textAlign: 'center' }}>\n          Temporarily inspect a wallet address / ens domain:\n        </Typography.Text>\n        <Input\n          size=\"large\"\n          placeholder=\"0x...\"\n          prefix={<WalletOutlined />}\n          onChange={(event) => setWalletModalAddress(event.target.value)}\n          disabled={walletModalLoading}\n          style={{\n            borderRadius: 6,\n          }}\n        />\n      </Modal>\n    </Content>\n  )\n}\n\nexport default Dashboard\n","import { Typography } from 'antd'\nimport { Content } from 'antd/lib/layout/layout'\nimport React from 'react'\n\nfunction NotFoundPage() {\n  return (\n    <Content style={{ width: '100vw', height: 'calc(100vh - 64px)' }} className=\"site-layout\">\n      <Typography.Title\n        disabled\n        style={{\n          position: 'absolute',\n          left: '50%',\n          top: '50%',\n          transform: 'translate(-50%, -50%)',\n        }}>\n        Not Found\n      </Typography.Title>\n    </Content>\n  )\n}\n\nexport default NotFoundPage\n","import lifiIcon from '../assets/icon192.png'\n\nexport enum NotificationType {\n  SWAP_SUCCESSFUL,\n  CROSS_SUCCESSFUL,\n  SWAP_ERROR,\n  CROSS_ERROR,\n  TRANSACTION_SUCCESSFULL,\n  TRANSACTION_ERROR,\n}\n\nconst notificationsSupported = (): boolean => {\n  if (!('Notification' in window)) {\n    // eslint-disable-next-line no-console\n    console.log('This browser does not support desktop notification')\n    return false\n  }\n  return true\n}\n\nconst activateNotifications = async (): Promise<NotificationPermission> => {\n  // if(Notification.permission === \"granted\") return\n  if (notificationsSupported()) {\n    await Notification.requestPermission()\n    return Notification.permission\n  }\n  return 'denied'\n}\n\nconst getNotificationContents = (\n  type: NotificationType,\n): { title: string; options: NotificationOptions; alwaysShow: boolean } => {\n  let title: string = ''\n  let options: NotificationOptions = {\n    dir: 'auto',\n    // icon: lifiIcon,\n    badge: lifiIcon,\n  }\n  let alwaysShow = false\n  switch (type) {\n    case NotificationType.SWAP_SUCCESSFUL:\n      title = 'Swap Successful!'\n      break\n    case NotificationType.SWAP_ERROR:\n      title = 'Swap Failed!'\n      alwaysShow = true\n      break\n    case NotificationType.CROSS_SUCCESSFUL:\n      title = 'Cross Chain Transfer Successful!'\n      break\n    case NotificationType.CROSS_ERROR:\n      title = 'Cross Chain Transfer Failed!'\n      alwaysShow = true\n      break\n    case NotificationType.TRANSACTION_SUCCESSFULL:\n      title = 'Transaction Successful!'\n      alwaysShow = true // intended for entire transaction containing multiple swaps / crosses. It makes sense to always inform user about this, no matter the page visibility\n      break\n    case NotificationType.TRANSACTION_ERROR:\n      title = 'Transaction Failed!'\n      alwaysShow = true\n      break\n    default:\n      break\n  }\n\n  return { title, options, alwaysShow }\n}\n\nconst showNotification = (type: NotificationType, visibilityOverride = false) => {\n  if (Notification.permission === 'denied') return\n  const { title, options, alwaysShow } = getNotificationContents(type)\n  if (document.hidden || alwaysShow || visibilityOverride) {\n    new Notification(title, options)\n  }\n}\n\nconst serviceExport = {\n  activateNotifications,\n  showNotification,\n}\nexport default serviceExport\n","export default \"data:image/png;base64,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\"","import './NotificationsOverlay.css'\n\nimport { Button, Typography } from 'antd'\nimport { animate } from 'motion'\nimport { useEffect, useState } from 'react'\n\nimport notifications from '../services/notifications'\n\nconst NOTIFICATION_OVERLAY_CSS_ID = 'notification-overlay'\nconst NOTIFICATION_OVERLAY_VERTICAL_START_POSITION = '-400px'\nconst NOTIFICATION_OVERLAY_VERTICAL_DISPLAY_POSITION = '50px'\n\n// reset permissions on chrome://settings/content/siteDetails\nfunction NotificationOverlay() {\n  const [permissionStatus, setPermissionStatus] = useState<NotificationPermission>(\n    'Notification' in window ? Notification.permission : 'denied',\n  )\n\n  const activateNotifications = async () => {\n    const status: NotificationPermission = await notifications.activateNotifications()\n    setPermissionStatus(status)\n  }\n\n  const dismissOverlay = async () => {\n    await animate(\n      `#${NOTIFICATION_OVERLAY_CSS_ID}`,\n      {\n        right: [\n          NOTIFICATION_OVERLAY_VERTICAL_DISPLAY_POSITION,\n          NOTIFICATION_OVERLAY_VERTICAL_START_POSITION,\n        ],\n        opacity: [1, 0],\n      },\n      {\n        duration: 0.2,\n        easing: 'ease-in',\n      },\n    ).finished\n    setPermissionStatus('denied')\n  }\n\n  useEffect(() => {\n    animate(\n      `#${NOTIFICATION_OVERLAY_CSS_ID}`,\n      {\n        right: [null, NOTIFICATION_OVERLAY_VERTICAL_DISPLAY_POSITION],\n      },\n      {\n        delay: 4,\n        duration: 0.2,\n        easing: 'ease-out',\n      },\n    )\n  }, [])\n\n  //only show when user has not decided yet\n  if (permissionStatus !== 'default') return null\n  return (\n    <div\n      id={NOTIFICATION_OVERLAY_CSS_ID}\n      style={{ right: NOTIFICATION_OVERLAY_VERTICAL_START_POSITION }}>\n      <div>\n        <Typography.Title level={5}>Enable Notifications</Typography.Title>\n        <Typography.Text>\n          Swaps and cross-chain transfers might take a while to complete. Enable notifications to\n          stay informed about the state of your transaction.\n        </Typography.Text>\n      </div>\n\n      <div>\n        <Button type=\"link\" style={{ padding: 0 }} onClick={activateNotifications}>\n          Enable Notifications\n        </Button>\n        <Button type=\"link\" danger onClick={dismissOverlay}>\n          {' '}\n          Dismiss\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default NotificationOverlay\n","import { ChainId } from '@lifinance/sdk'\n\nimport { deepClone } from '../services/utils'\n\nconst customRpc: Record<number, (string | undefined)[]> = {\n  [ChainId.ETH]: [process.env.REACT_APP_RPC_URL_MAINNET],\n  [ChainId.POL]: [process.env.REACT_APP_RPC_URL_POLYGON],\n  [ChainId.BSC]: [process.env.REACT_APP_RPC_URL_BSC],\n  [ChainId.DAI]: [process.env.REACT_APP_RPC_URL_XDAI],\n  [ChainId.FTM]: [process.env.REACT_APP_RPC_URL_FANTOM],\n  [ChainId.ARB]: [process.env.REACT_APP_RPC_URL_ARBITRUM],\n\n  // Testnet\n  [ChainId.ROP]: [process.env.REACT_APP_RPC_URL_ROPSTEN],\n  [ChainId.RIN]: [process.env.REACT_APP_RPC_URL_RINKEBY],\n  [ChainId.GOR]: [process.env.REACT_APP_RPC_URL_GORLI],\n  [ChainId.KOV]: [process.env.REACT_APP_RPC_URL_KOVAN],\n  [ChainId.ARBT]: [process.env.REACT_APP_RPC_URL_ARBITRUM_RINKEBY],\n  [ChainId.OPTT]: [process.env.REACT_APP_RPC_URL_OPTIMISM_KOVAN],\n  [ChainId.MUM]: [process.env.REACT_APP_RPC_URL_POLYGON_MUMBAI],\n  [ChainId.BSCT]: [process.env.REACT_APP_RPC_URL_BSC_TESTNET],\n}\n\nexport const getRpcs = (): Record<number, string[]> => {\n  const rpcs = deepClone(customRpc)\n  Object.keys(rpcs).forEach((key) => {\n    if (!rpcs[key] || !rpcs[key].length || !rpcs[key][0]) {\n      delete rpcs[key]\n    }\n  })\n\n  return rpcs\n}\n","/* eslint-disable no-console */\nimport { getChainById, prefixChainId, Token } from '../types'\n\nexport const switchChain = async (chainId: number) => {\n  const ethereum = (window as any).ethereum\n  if (typeof ethereum === 'undefined') return false\n\n  try {\n    await ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: getChainById(chainId).metamask?.chainId }],\n    })\n    return true\n  } catch (error: any) {\n    // const ERROR_CODE_UNKNOWN_CHAIN = 4902\n    const ERROR_CODE_USER_REJECTED = 4001\n    if (error.code !== ERROR_CODE_USER_REJECTED) {\n      return await addChain(chainId)\n    }\n  }\n  return false\n}\n\nexport const addChain = async (chainId: number) => {\n  const ethereum = (window as any).ethereum\n  if (typeof ethereum === 'undefined') return false\n\n  const params = getChainById(chainId).metamask\n  try {\n    await ethereum.request({\n      method: 'wallet_addEthereumChain',\n      params: [params],\n    })\n    return true\n  } catch (error: any) {\n    console.error(`Error adding chain ${chainId}: ${error.message}`)\n  }\n  return false\n}\n\nexport const addToken = async (token: Token) => {\n  try {\n    // wasAdded is a boolean. Like any RPC method, an error may be thrown.\n    const wasAdded = await (window as any).ethereum.request({\n      method: 'wallet_watchAsset',\n      params: {\n        type: 'ERC20', // Initially only supports ERC20, but eventually more!\n        options: {\n          address: token.address, // The address that the token is at.\n          symbol: token.symbol, // A ticker symbol or shorthand, up to 5 chars.\n          decimals: token.decimals, // The number of decimals in the token\n          image: token.logoURI, // A string url of the token logo\n        },\n      },\n    })\n    return wasAdded\n  } catch (error) {\n    console.error(error)\n  }\n  return false\n}\n\nexport const switchChainAndAddToken = async (chainId: number, token: Token) => {\n  const ethereum = (window as any).ethereum\n  const chainIdPrefixed = prefixChainId(chainId)\n\n  if (chainIdPrefixed !== ethereum.chainId) {\n    await switchChain(chainId)\n    ethereum.once('networkChanged', async (id: string) => {\n      if (parseInt(id) === chainId) {\n        await addToken(token)\n      }\n    })\n  } else {\n    await addToken(token)\n  }\n}\n","import axios from 'axios'\n\nimport { ChainId, CoinKey, defaultTokens, getChainById, Token } from '../types'\n\nexport interface TokenListToken {\n  chainId: number\n  address: string\n  name: string\n  symbol: string\n  decimals: number\n  logoURI: string\n}\n\nconst blacklist: Record<number, string[]> = {\n  [ChainId.AVA]: ['0x4e1581f01046efdd7a1a2cdb0f82cdd7f71f2e59'],\n}\n\nexport const loadTokenList = async (chainId: number): Promise<Array<TokenListToken>> => {\n  const chain = getChainById(chainId)\n  if (!chain.tokenlistUrl) {\n    // throw new Error('No token list defined for chain')\n    return [] as Array<TokenListToken>\n  }\n  const result = await axios.get<any>(chain.tokenlistUrl)\n  if (result.data) {\n    if (Object.keys(result.data).findIndex((key) => key === 'tokens') === -1) {\n      return result.data as Array<TokenListToken>\n    } else {\n      return result.data.tokens as Array<TokenListToken>\n    }\n  } else {\n    return [] as Array<TokenListToken>\n  }\n}\n\nexport const loadTokenListAsTokens = async (chainId: number): Promise<Array<Token>> => {\n  const chain = getChainById(chainId)\n  const tokenList = await loadTokenList(chainId)\n  const filteredTokens = tokenList ? tokenList.filter((token) => token.chainId === chainId) : []\n  const filterBlacklistedTokens = filteredTokens.filter(\n    (token) =>\n      !blacklist[token.chainId] || !blacklist[token.chainId].includes(token.address.toLowerCase()),\n  )\n  const mappedTokens = filterBlacklistedTokens.map((token) => {\n    return {\n      address: token.address.toLowerCase(),\n      symbol: token.symbol,\n      decimals: token.decimals,\n      chainId: token.chainId,\n      name: token.name.replace(' on xDai', ''),\n      logoURI: token.logoURI,\n\n      coinKey: token.symbol as CoinKey,\n    } as Token\n  })\n\n  // default token\n  defaultTokens[chain.key].forEach((defaultToken) => {\n    const found = !!mappedTokens.find(\n      (token) => token.address.toLowerCase() === defaultToken.address.toLowerCase(),\n    )\n    if (!found) {\n      mappedTokens.unshift(defaultToken)\n    }\n  })\n\n  return mappedTokens\n}\n","import { animate, stagger } from 'motion'\nimport { useEffect, useRef } from 'react'\n\nfunction LoadingIndicator() {\n  const element = useRef<HTMLDivElement | null>(null)\n\n  const bubbleStyle: React.CSSProperties = {\n    background: '#096dd9',\n    display: 'inline-block',\n    margin: 10,\n    width: 14,\n    height: 14,\n    borderRadius: 7,\n  }\n\n  useEffect(() => {\n    //normal animation\n    animate(\n      element.current?.childNodes as NodeListOf<Element>,\n      {\n        y: [0, -5, 0],\n        opacity: [1, 0.8, 1],\n      },\n      {\n        delay: stagger(0.1),\n        duration: 1,\n        repeat: Infinity,\n        easing: 'ease-in-out',\n      },\n    )\n  }, [])\n\n  return (\n    <div ref={element}>\n      <div style={bubbleStyle}></div>\n      <div style={bubbleStyle}></div>\n      <div style={bubbleStyle}></div>\n      <div style={bubbleStyle}></div>\n    </div>\n  )\n}\n\nexport default LoadingIndicator\n","import { Button, Steps } from 'antd'\n\nimport { formatTokenAmount, parseSecondsAsTime } from '../services/utils'\nimport { findTool, getChainById, Route as RouteType, Step } from '../types'\n\ninterface RouteProps {\n  route: RouteType\n  selected: boolean\n  onSelect: Function\n}\n\nconst Route = ({ route, selected, onSelect }: RouteProps) => {\n  const formatToolName = (toolKey: string) => {\n    const tool = findTool(toolKey)\n    if (tool) {\n      return tool.name\n    } else {\n      return toolKey\n    }\n  }\n\n  const parseStepShort = (step: Step) => {\n    switch (step.type) {\n      case 'swap':\n        return (\n          <>\n            Swap to {formatTokenAmount(step.action.toToken, step.estimate.toAmount)} via{' '}\n            {formatToolName(step.tool)}\n          </>\n        )\n      case 'cross':\n        return (\n          <>\n            Transfer to {formatTokenAmount(step.action.toToken, step.estimate.toAmount)} via{' '}\n            {formatToolName(step.tool)}\n          </>\n        )\n      default:\n        // eslint-disable-next-line no-console\n        console.error('invalid short step')\n        return <></>\n    }\n  }\n\n  const parseStep = (step: Step) => {\n    const { action, estimate } = step\n    switch (step.type) {\n      case 'swap':\n        return {\n          title: 'Swap Tokens',\n          description: `${formatTokenAmount(\n            action.fromToken,\n            estimate.fromAmount,\n          )} for ${formatTokenAmount(action.toToken, estimate.toAmount)} via ${formatToolName(\n            step.tool,\n          )}`,\n        }\n      case 'cross':\n        return {\n          title: 'Cross Chains',\n          description: `${getChainById(action.fromChainId).name}: ${formatTokenAmount(\n            action.fromToken,\n            estimate.fromAmount,\n          )} to ${getChainById(action.toChainId).name}: ${formatTokenAmount(\n            action.toToken,\n            estimate.toAmount,\n          )} via ${formatToolName(step.tool)}`,\n        }\n      case 'lifi':\n        return {\n          title: 'LiFi Contract',\n          description: (\n            <>\n              Single transaction including:\n              <br />\n              <ol style={{ paddingLeft: 22 }}>\n                {step.includedSteps.map(parseStepShort).map((line, index) => (\n                  <li key={index}>{line}</li>\n                ))}\n              </ol>\n            </>\n          ),\n        }\n      default:\n        return {\n          title: 'Invalid Step',\n          description: '',\n        }\n    }\n  }\n\n  const aggregatedDuration = route.steps.reduce<number>(\n    (duration, step) => duration + step.estimate?.executionDuration || 1,\n    0,\n  )\n\n  const parsedDuration = parseSecondsAsTime(aggregatedDuration)\n\n  return (\n    <div\n      className={'swap-route ' + (selected ? 'optimal' : '')}\n      style={{\n        padding: 24,\n        paddingTop: 24,\n        paddingBottom: 24,\n        marginLeft: 10,\n        marginRight: 10,\n        marginTop: 20,\n        marginBottom: 20,\n      }}\n      onClick={() => onSelect()}>\n      <Steps\n        progressDot\n        size=\"small\"\n        direction=\"vertical\"\n        current={5}\n        className=\"progress-step-list\">\n        {route.steps.map((step) => {\n          let { title, description } = parseStep(step)\n          return <Steps.Step key={title} title={title} description={description}></Steps.Step>\n        })}\n      </Steps>\n\n      <div className=\"selected\">\n        <div style={{ textAlign: 'left', paddingLeft: 20 }}>\n          Estimated token: <b>{formatTokenAmount(route.toToken, route.toAmount)}</b>\n          <br />\n          Estimated result: {route.toAmountUSD} USD\n          <br />\n          Estimated gas costs: {route.gasCostUSD} USD\n          <br />\n          Estimated duration: {parsedDuration} min\n          <br />\n        </div>\n\n        {selected ? (\n          <div className=\"selected-label\">Selected</div>\n        ) : (\n          <Button shape=\"round\" type=\"text\" size={'large'} onClick={() => onSelect()}>\n            Click To Select Route\n          </Button>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Route\n","import { SubgraphSyncRecord } from '@connext/nxtp-sdk'\nimport { Avatar, Badge, Select } from 'antd'\nimport React from 'react'\n\nimport { Chain, ChainKey, getChainByKey } from '../types'\n\ninterface ChainSelectProps {\n  transferChains: Array<Chain>\n  selectedChain?: ChainKey\n  onChangeSelectedChain: Function\n  syncStatus?: Record<number, SubgraphSyncRecord>\n}\n\nconst ChainSelect = ({\n  transferChains,\n  selectedChain,\n  onChangeSelectedChain,\n  syncStatus,\n}: ChainSelectProps) => {\n  const chain = selectedChain ? getChainByKey(selectedChain) : undefined\n\n  return (\n    <>\n      {chain ? (\n        <Avatar size=\"small\" src={chain.logoURI} alt={chain.name}>\n          {chain.name[0]}\n        </Avatar>\n      ) : (\n        ''\n      )}\n\n      <Select\n        placeholder=\"Select Chain\"\n        value={selectedChain}\n        onChange={(v: ChainKey) => onChangeSelectedChain(v)}\n        dropdownStyle={{ minWidth: 300 }}\n        bordered={false}\n        optionLabelProp=\"data-label\">\n        <Select.OptGroup label=\"Supported Chains\">\n          {transferChains.map((chain) => (\n            <Select.Option\n              key={chain.key}\n              value={chain.key}\n              data-label={\n                chain.name + (syncStatus && !syncStatus[chain.id].synced ? ' (Unsynced)' : '')\n              }\n              disabled={syncStatus && !syncStatus[chain.id].synced}>\n              <div className=\"option-item\">\n                <span role=\"img\" aria-label={chain.name}>\n                  <Avatar\n                    size=\"small\"\n                    src={chain.logoURI}\n                    alt={chain.key}\n                    style={{ marginRight: 10 }}>\n                    {chain.name[0]}\n                  </Avatar>\n                </span>\n                <span className=\"option-name\">{chain.name}</span>\n                <span className=\"option-balance\">\n                  {syncStatus && (\n                    <Badge\n                      color={syncStatus[chain.id].synced ? 'green' : 'orange'}\n                      text={syncStatus[chain.id].synced ? 'synced' : 'unsynced'}\n                    />\n                  )}\n                </span>\n              </div>\n            </Select.Option>\n          ))}\n        </Select.OptGroup>\n      </Select>\n    </>\n  )\n}\n\nexport default ChainSelect\n","import { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React } from '@web3-react/core'\nimport { Avatar, Select } from 'antd'\nimport { RefSelectProps } from 'antd/lib/select'\nimport React from 'react'\n\nimport { ChainKey, TokenAmount, TokenWithAmounts } from '../types'\n\ninterface TokenSelectProps {\n  tokens: { [ChainKey: string]: Array<TokenWithAmounts> }\n  balances: { [ChainKey: string]: Array<TokenAmount> } | undefined\n  selectedChain?: ChainKey\n  selectedToken: string | undefined\n  onChangeSelectedToken: Function\n  selectReference: React.MutableRefObject<RefSelectProps | undefined>\n  grayed: boolean\n  showBalance?: boolean\n}\n\nconst TokenSelect = ({\n  tokens,\n  balances,\n  selectedChain,\n  selectedToken,\n  onChangeSelectedToken,\n  selectReference,\n  grayed,\n  showBalance = true,\n}: TokenSelectProps) => {\n  const findToken = (chainKey: ChainKey, tokenId: string) => {\n    const token = tokens[chainKey].find((token) => token.address === tokenId)\n    if (!token) {\n      throw new Error('Token not found')\n    }\n    return token\n  }\n\n  const web3 = useWeb3React<Web3Provider>()\n  const token = selectedToken && selectedChain ? findToken(selectedChain, selectedToken) : undefined\n\n  return (\n    <>\n      <Avatar size=\"small\" src={token?.logoURI} alt={token?.name}>\n        {token ? token.name : '?'}\n      </Avatar>\n      <Select\n        placeholder=\"Select Coin\"\n        value={selectedToken}\n        onChange={(v) => onChangeSelectedToken(v)}\n        optionLabelProp=\"data-label\"\n        bordered={false}\n        dropdownStyle={{ minWidth: 300 }}\n        showSearch\n        ref={(select) => {\n          if (select) {\n            selectReference.current = select\n          }\n        }}\n        filterOption={(input, option) => {\n          return ((option?.label as string) || '').toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }}>\n        {/* Separate between Owned and All token if more than 6 */}\n        {selectedChain && tokens[selectedChain]?.length > 6 && (\n          <Select.OptGroup label=\"Owned Token\">\n            {!web3.account && (\n              <Select.Option key=\"Select Coin\" value=\"connect\">\n                Connect your wallet\n              </Select.Option>\n            )}\n            {balances && balances[selectedChain] && balances[selectedChain]?.length === 0 && (\n              <Select.Option key=\"No Owned\" value=\"no\" disabled={true}>\n                You don't own any token on this chain.\n              </Select.Option>\n            )}\n            {balances &&\n              balances[selectedChain] &&\n              tokens[selectedChain]\n                .filter((token) => token.amount?.gt(0))\n                .map((token) => (\n                  <Select.Option\n                    key={'own_' + token.address}\n                    value={token.address}\n                    label={token.symbol + ' ' + token.name}\n                    data-label={\n                      token.symbol +\n                      (balances && showBalance && token.amountRendered\n                        ? ' (' + token.amountRendered + ')'\n                        : '')\n                    }>\n                    <div className=\"option-item\">\n                      <span role=\"img\" aria-label={token.symbol}>\n                        <Avatar\n                          size=\"small\"\n                          src={token.logoURI}\n                          alt={token.symbol}\n                          style={{ marginRight: 10 }}>\n                          {token.symbol[0]}\n                        </Avatar>\n                      </span>\n                      <span className=\"option-name\">\n                        {token.symbol} - {token.name}\n                      </span>\n                      <span className=\"option-balance\">{token.amountRendered}</span>\n                    </div>\n                  </Select.Option>\n                ))}\n          </Select.OptGroup>\n        )}\n\n        {/* All Token */}\n        {selectedChain ? (\n          <Select.OptGroup label=\"All Token\">\n            {tokens[selectedChain]?.map((token) => (\n              <Select.Option\n                key={token.address}\n                value={token.address}\n                label={token.symbol + ' - ' + token.name}\n                data-label={\n                  token.symbol +\n                  (balances && showBalance && token.amountRendered\n                    ? ' (' + token.amountRendered + ')'\n                    : '')\n                }>\n                <div className={'option-item ' + (grayed && token.amount?.eq(0) ? 'disabled' : '')}>\n                  <span role=\"img\" aria-label={token.symbol}>\n                    <Avatar\n                      size=\"small\"\n                      src={token.logoURI}\n                      alt={token.symbol}\n                      style={{ marginRight: 10 }}>\n                      {token.symbol[0]}\n                    </Avatar>\n                  </span>\n                  <span className=\"option-name\">\n                    {token.symbol} - {token.name}\n                  </span>\n                  <span className=\"option-balance\">{token.amountRendered}</span>\n                </div>\n              </Select.Option>\n            ))}\n          </Select.OptGroup>\n        ) : (\n          <Select.OptGroup label=\"Please select a chain first\"></Select.OptGroup>\n        )}\n      </Select>\n    </>\n  )\n}\n\nexport default TokenSelect\n","import { SwapOutlined } from '@ant-design/icons'\nimport { SubgraphSyncRecord } from '@connext/nxtp-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { Button, Col, Input, Row, Tooltip } from 'antd'\nimport { RefSelectProps } from 'antd/lib/select'\nimport BigNumber from 'bignumber.js'\nimport React, { useEffect, useRef, useState } from 'react'\n\nimport { Chain, ChainKey, TokenAmount, TokenWithAmounts } from '../types'\nimport ChainSelect from './ChainSelect'\nimport TokenSelect from './TokenSelect'\nimport { getInjectedConnector } from './web3/connectors'\n\ninterface SwapFormProps {\n  depositChain?: ChainKey\n  setDepositChain: Function\n  depositToken?: string\n  setDepositToken: Function\n  depositAmount: BigNumber\n  setDepositAmount: Function\n\n  withdrawChain?: ChainKey\n  setWithdrawChain: Function\n  withdrawToken?: string\n  setWithdrawToken: Function\n  withdrawAmount: BigNumber\n  setWithdrawAmount: Function\n  estimatedWithdrawAmount: string\n  estimatedMinWithdrawAmount?: string\n\n  transferChains: Array<Chain>\n  tokens: { [ChainKey: string]: Array<TokenWithAmounts> }\n  balances: { [ChainKey: string]: Array<TokenAmount> } | undefined\n  allowSameChains?: boolean\n  forceSameToken?: boolean\n  syncStatus?: Record<number, SubgraphSyncRecord>\n}\n\nconst SwapForm = ({\n  depositChain,\n  setDepositChain,\n  depositToken,\n  setDepositToken,\n  depositAmount,\n  setDepositAmount,\n\n  withdrawChain,\n  setWithdrawChain,\n  withdrawToken,\n  setWithdrawToken,\n  withdrawAmount,\n  setWithdrawAmount,\n  estimatedWithdrawAmount,\n  estimatedMinWithdrawAmount,\n\n  transferChains,\n  tokens,\n  balances,\n  allowSameChains,\n  forceSameToken,\n  syncStatus,\n}: SwapFormProps) => {\n  const depositSelectRef = useRef<RefSelectProps>()\n  const withdrawSelectRef = useRef<RefSelectProps>()\n  const [depositAmountString, setDepositAmountString] = useState<string>('')\n\n  // Wallet\n  const { activate } = useWeb3React()\n\n  const connectWallet = async () => {\n    activate(await getInjectedConnector())\n  }\n\n  const onChangeDepositChain = (chainKey: ChainKey) => {\n    if (!allowSameChains && withdrawChain === chainKey) {\n      setWithdrawChain(depositChain)\n      setWithdrawToken(depositToken)\n    }\n    setDepositChain(chainKey)\n\n    // find same deposit token\n    if (depositChain) {\n      const symbol = tokens[depositChain].find((token) => token.address === depositToken)?.symbol\n      const tokenAddress = tokens[chainKey].find((token) => token.symbol === symbol)?.address\n      setDepositToken(tokenAddress)\n    }\n  }\n\n  const onChangeWithdrawChain = (chainKey: ChainKey) => {\n    if (!allowSameChains && depositChain === chainKey) {\n      setDepositChain(withdrawChain)\n      setDepositToken(withdrawToken)\n    }\n    setWithdrawChain(chainKey)\n\n    // find same withdraw token\n    if (withdrawChain) {\n      const symbol = tokens[withdrawChain].find((token) => token.address === withdrawToken)?.symbol\n      const tokenAddress = tokens[chainKey].find((token) => token.symbol === symbol)?.address\n      setWithdrawToken(tokenAddress)\n    }\n  }\n\n  const getBalance = (chainKey: ChainKey, tokenAddress: string) => {\n    if (!balances || !balances[chainKey]) {\n      return new BigNumber(0)\n    }\n\n    const tokenBalance = balances[chainKey].find((portfolio) => portfolio.address === tokenAddress)\n\n    return tokenBalance?.amount || new BigNumber(0)\n  }\n\n  const onChangeDepositToken = (tokenAddress: string) => {\n    // unselect\n    depositSelectRef?.current?.blur()\n\n    if (!depositChain) return\n\n    // connect\n    if (tokenAddress === 'connect') {\n      connectWallet()\n      return\n    }\n\n    // set token\n    setDepositToken(tokenAddress)\n    const balance = new BigNumber(getBalance(depositChain, tokenAddress))\n    if (balance.lt(depositAmount) && balance.gt(0)) {\n      setDepositAmount(balance)\n    }\n\n    // set withdraw token?\n    if (forceSameToken && withdrawChain) {\n      const symbol = tokens[depositChain].find((token) => token.address === tokenAddress)?.symbol\n      const withdrawToken = tokens[withdrawChain].find((token) => token.symbol === symbol)?.address\n      setWithdrawToken(withdrawToken)\n    }\n  }\n\n  const onChangeWithdrawToken = (tokenId: string) => {\n    // unselect\n    withdrawSelectRef?.current?.blur()\n\n    // connect\n    if (tokenId === 'connect') {\n      connectWallet()\n      return\n    }\n\n    // set token\n    setWithdrawToken(tokenId)\n\n    // set withdraw token?\n    if (forceSameToken && depositChain && withdrawChain) {\n      const symbol = tokens[withdrawChain].find((token) => token.address === tokenId)?.symbol\n      const depositToken = tokens[depositChain].find((token) => token.symbol === symbol)?.address\n      setDepositToken(depositToken)\n    }\n  }\n\n  // sync depositAmountString if depositAmount changes\n  useEffect(() => {\n    if (!new BigNumber(depositAmountString).eq(depositAmount) && depositAmount.gte(0)) {\n      setDepositAmountString(depositAmount.toFixed())\n    }\n  }, [depositAmount, depositAmountString])\n\n  const onChangeDepositAmount = (amount: string) => {\n    setDepositAmountString(amount)\n    setDepositAmount(new BigNumber(amount))\n    setWithdrawAmount(new BigNumber(Infinity))\n  }\n  const onChangeWithdrawAmount = (amount: BigNumber) => {\n    setDepositAmount(new BigNumber(Infinity))\n    setWithdrawAmount(amount)\n  }\n  const formatAmountInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    return new BigNumber(e.currentTarget.value)\n  }\n\n  const setMaxDeposit = () => {\n    if (depositToken && depositChain) {\n      const selectedToken = tokens[depositChain].find((token) => token.address === depositToken)\n      if (selectedToken && selectedToken.amount) {\n        setDepositAmount(selectedToken.amount)\n      }\n    }\n  }\n\n  const changeDirection = () => {\n    setWithdrawChain(depositChain)\n    setDepositChain(withdrawChain)\n    setWithdrawToken(depositToken)\n    setDepositToken(withdrawToken)\n  }\n\n  const hasSufficientBalance = () => {\n    if (!depositToken || !depositChain) {\n      return true\n    }\n    return depositAmount.lte(getBalance(depositChain, depositToken))\n  }\n\n  return (\n    <>\n      <Row\n        gutter={[\n          { xs: 8, sm: 16 },\n          { xs: 8, sm: 16 },\n        ]}>\n        <Col span={10}>\n          <div className=\"form-text\">From:</div>\n        </Col>\n        <Col span={14}>\n          <div className=\"form-input-wrapper\">\n            <ChainSelect\n              transferChains={transferChains}\n              selectedChain={depositChain}\n              onChangeSelectedChain={onChangeDepositChain}\n              syncStatus={syncStatus}\n            />\n          </div>\n        </Col>\n\n        <Col span={10}>\n          <div className=\"form-input-wrapper\">\n            <Input\n              type=\"number\"\n              defaultValue={0.0}\n              min={0}\n              step={0.000000000000000001}\n              value={depositAmountString}\n              onChange={(event) => onChangeDepositAmount(event.currentTarget.value)}\n              placeholder=\"0.0\"\n              bordered={false}\n              className={!hasSufficientBalance() ? 'insufficient' : ''}\n            />\n            <Button\n              className=\"maxButton\"\n              type=\"text\"\n              disabled={!depositToken}\n              onClick={() => setMaxDeposit()}>\n              MAX\n            </Button>\n          </div>\n        </Col>\n        <Col span={14}>\n          <div className=\"form-input-wrapper\">\n            <TokenSelect\n              tokens={tokens}\n              balances={balances}\n              selectedChain={depositChain}\n              selectedToken={depositToken}\n              onChangeSelectedToken={onChangeDepositToken}\n              selectReference={depositSelectRef}\n              grayed={true}\n            />\n          </div>\n        </Col>\n      </Row>\n\n      <Row style={{ margin: 32 }} justify={'center'}>\n        <SwapOutlined onClick={() => changeDirection()} />\n      </Row>\n\n      <Row\n        gutter={[\n          { xs: 8, sm: 16 },\n          { xs: 8, sm: 16 },\n        ]}>\n        <Col span={10}>\n          <div className=\"form-text\">To:</div>\n        </Col>\n        <Col span={14}>\n          <div className=\"form-input-wrapper\">\n            <ChainSelect\n              transferChains={transferChains}\n              selectedChain={withdrawChain}\n              onChangeSelectedChain={onChangeWithdrawChain}\n              syncStatus={syncStatus}\n            />\n          </div>\n        </Col>\n\n        <Col span={10}>\n          <div className=\"form-input-wrapper disabled\">\n            <Input\n              type=\"text\"\n              defaultValue={0.0}\n              min={0}\n              value={estimatedWithdrawAmount}\n              // value={isFinite(withdrawAmount) ? withdrawAmount : ''}\n              onChange={(event) => onChangeWithdrawAmount(formatAmountInput(event))}\n              placeholder=\"...\"\n              bordered={false}\n              disabled\n            />\n            {!!estimatedMinWithdrawAmount && (\n              <Tooltip\n                color={'gray'}\n                title={`The final amount might change due to slippage but will not fall below ${estimatedMinWithdrawAmount}`}>\n                <span className=\"amountBadge\">?</span>\n              </Tooltip>\n            )}\n          </div>\n        </Col>\n        <Col span={14}>\n          <div className=\"form-input-wrapper\">\n            <TokenSelect\n              tokens={tokens}\n              balances={balances}\n              selectedChain={withdrawChain}\n              selectedToken={withdrawToken}\n              onChangeSelectedToken={onChangeWithdrawToken}\n              selectReference={withdrawSelectRef}\n              grayed={false}\n            />\n          </div>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default SwapForm\n","import { Badge, Tooltip } from 'antd'\n\nimport { Process, Step } from '../types'\n\nconst DEFAULT_TRANSACTIONS_TO_LOG = 10\n\nexport function renderProcessMessage(process: Process) {\n  if (process.txLink) {\n    if (process.message === 'Sign Message to Claim Funds') {\n      return <>{process.message.toString()}</>\n    }\n    if (process.confirmations) {\n      return (\n        <>\n          {process.message}{' '}\n          <a href={process.txLink} target=\"_blank\" rel=\"nofollow noreferrer\">\n            Tx {renderConfirmations(process.confirmations, DEFAULT_TRANSACTIONS_TO_LOG)}\n          </a>\n        </>\n      )\n    }\n    return (\n      <>\n        {process.message}{' '}\n        <a href={process.txLink} target=\"_blank\" rel=\"nofollow noreferrer\">\n          Tx\n        </a>\n      </>\n    )\n  }\n  return <>{process.message.toString()}</>\n}\n\nexport const renderProcessError = (step: Step, process: Process) => {\n  const errorMessage = process.errorMessage && (\n    <>\n      Error: {process.errorMessage.substring(0, 350)}\n      {process.errorMessage.length > 350 ? '...' : ''}\n    </>\n  )\n\n  const htmlMessage = process.htmlErrorMessage && (\n    <div dangerouslySetInnerHTML={{ __html: process.htmlErrorMessage }} />\n  )\n\n  return (\n    <>\n      {errorMessage ? <div style={{ marginBottom: '5px' }}>{errorMessage}</div> : ''}\n      {htmlMessage}\n    </>\n  )\n}\n\nconst renderConfirmations = (count: number, max: number) => {\n  const text = count < max ? `${count}/${max}` : `${max}+`\n  return (\n    <Tooltip title={text + ' Confirmations'}>\n      <Badge count={text} style={{ backgroundColor: '#52c41a', marginBottom: '2px' }} />\n    </Tooltip>\n  )\n}\n","import React, { useEffect, useRef, useState } from 'react'\n\nimport { parseSecondsAsTime } from '../services/utils'\n\ninterface ClockProps {\n  startedAt: number\n  successAt?: number | undefined\n  failedAt?: number | undefined\n}\n\nconst Clock = ({ startedAt, successAt, failedAt }: ClockProps) => {\n  const [count, setCount] = useState<number>(Math.floor((Date.now() - startedAt) / 1000))\n  const intervalRef = useRef<NodeJS.Timeout>()\n\n  const getCount = () => {\n    // not ended\n    if (!failedAt && !successAt) {\n      return count\n    }\n\n    // ended\n    return Math.floor(((failedAt || successAt || 0) - startedAt) / 1000)\n  }\n\n  const renderTime = () => {\n    const total = getCount()\n    return parseSecondsAsTime(total)\n  }\n\n  useEffect(() => {\n    intervalRef.current = setInterval(() => setCount((count) => count + 1), 1000)\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current)\n      }\n    }\n  }, [])\n\n  return <>{renderTime()}</>\n}\n\nexport default Clock\n","import { ArrowRightOutlined, LoadingOutlined, PauseCircleOutlined } from '@ant-design/icons'\nimport { Web3Provider } from '@ethersproject/providers'\nimport LiFi, { ExecutionSettings, StepTool } from '@lifinance/sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { Avatar, Button, Divider, Row, Space, Spin, Timeline, Tooltip, Typography } from 'antd'\nimport BigNumber from 'bignumber.js'\nimport { constants } from 'ethers'\nimport { useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link } from 'react-router-dom'\n\nimport walletIcon from '../assets/wallet.png'\nimport { storeRoute } from '../services/localStorage'\nimport { switchChain, switchChainAndAddToken } from '../services/metamask'\nimport Notification, { NotificationType } from '../services/notifications'\nimport { renderProcessError, renderProcessMessage } from '../services/processRenderer'\nimport { formatTokenAmount, parseSecondsAsTime } from '../services/utils'\nimport {\n  ChainKey,\n  findTool,\n  getChainById,\n  getChainByKey,\n  isCrossStep,\n  isLifiStep,\n  Route,\n  Step,\n  TokenAmount,\n} from '../types'\nimport Clock from './Clock'\nimport LoadingIndicator from './LoadingIndicator'\n\ninterface SwappingProps {\n  route: Route\n  updateRoute: Function\n  onSwapDone: Function\n}\n\nconst getFinalBalance = (account: string, route: Route): Promise<TokenAmount | null> => {\n  const lastStep = route.steps[route.steps.length - 1]\n  const { toToken } = getReceivingInfo(lastStep)\n  return LiFi.getTokenBalance(account, toToken)\n}\n\nconst getReceivingInfo = (step: Step) => {\n  const toChain = getChainById(step.action.toChainId)\n  const toToken = step.action.toToken\n  return { toChain, toToken }\n}\n\nconst Swapping = ({ route, updateRoute, onSwapDone }: SwappingProps) => {\n  const { steps } = route\n\n  const isMobile = useMediaQuery({ query: `(max-width: 760px)` })\n\n  const [swapStartedAt, setSwapStartedAt] = useState<number>()\n  const [swapDoneAt, setSwapDoneAt] = useState<number>()\n  const [isSwapping, setIsSwapping] = useState<boolean>(false)\n  const [alerts] = useState<Array<JSX.Element>>([])\n  const [finalTokenAmount, setFinalTokenAmount] = useState<TokenAmount | null>()\n\n  // Wallet\n  const web3 = useWeb3React<Web3Provider>()\n\n  useEffect(() => {\n    // check if route is eligible for automatic resuming\n    const allDone = steps.every((step) => step.execution?.status === 'DONE')\n    const isFailed = steps.some((step) => step.execution?.status === 'FAILED')\n    const alreadyStarted = steps.some((step) => step.execution)\n    if (!allDone && !isFailed && alreadyStarted) {\n      resumeExecution()\n    }\n\n    // move execution to background when modal is closed\n    return function cleanup() {\n      LiFi.moveExecutionToBackground(route)\n    }\n  }, [])\n\n  const parseExecution = (step: Step) => {\n    if (!step.execution) {\n      return []\n    }\n    return step.execution.process.map((process, index, processList) => {\n      const type =\n        process.status === 'DONE' ? 'success' : process.status === 'FAILED' ? 'danger' : undefined\n      const hasFailed = process.status === 'FAILED'\n      const isLastPendingProcess = index === processList.length - 1 && process.status === 'PENDING'\n      return (\n        <span key={index} style={{ display: 'flex' }}>\n          <Typography.Text\n            type={type}\n            style={{ maxWidth: 250 }}\n            className={isSwapping && isLastPendingProcess ? 'flashing' : undefined}>\n            <p>{renderProcessMessage(process)}</p>\n\n            {hasFailed && (\n              <Typography.Text type=\"secondary\" style={{ whiteSpace: 'pre-wrap' }}>\n                {renderProcessError(step, process)}\n              </Typography.Text>\n            )}\n          </Typography.Text>\n          <Typography.Text style={{ marginLeft: 'auto', minWidth: 35 }}>\n            <Clock\n              startedAt={process.startedAt}\n              successAt={process.doneAt}\n              failedAt={process.failedAt}\n            />\n          </Typography.Text>\n        </span>\n      )\n    })\n  }\n\n  const getChainAvatar = (chainKey: ChainKey) => {\n    const chain = getChainByKey(chainKey)\n    return (\n      <Tooltip title={chain.name}>\n        <Avatar size=\"small\" src={chain.logoURI} alt={chain.name}></Avatar>\n      </Tooltip>\n    )\n  }\n\n  const getAvatar = (toolKey: StepTool) => {\n    const tool = findTool(toolKey)\n    return (\n      <Tooltip title={tool?.name}>\n        <Avatar size=\"small\" src={tool?.logoURI} alt={tool?.name}></Avatar>\n      </Tooltip>\n    )\n  }\n\n  const parseStepToTimeline = (step: Step, index: number) => {\n    const executionSteps = parseExecution(step)\n    const isDone = step.execution && step.execution.status === 'DONE'\n    const isLoading = isSwapping && step.execution && step.execution.status === 'PENDING'\n    const isPaused = !isSwapping && step.execution && step.execution.status === 'PENDING'\n    const color = isDone ? 'green' : step.execution ? 'blue' : 'gray'\n    const executionDuration = !!step.estimate.executionDuration && (\n      <>\n        <br />\n        <span>Estimated duration: {parseSecondsAsTime(step.estimate.executionDuration)} min</span>\n      </>\n    )\n\n    switch (step.type) {\n      case 'swap': {\n        return [\n          <Timeline.Item\n            position={isMobile ? 'right' : 'right'}\n            key={index + '_left'}\n            color={color}>\n            <h4>Swap on {getAvatar(step.tool)}</h4>\n            <span>\n              {formatTokenAmount(step.action.fromToken, step.estimate?.fromAmount)}{' '}\n              <ArrowRightOutlined />{' '}\n              {formatTokenAmount(step.action.toToken, step.estimate?.toAmount)}\n            </span>\n            {executionDuration}\n          </Timeline.Item>,\n          <Timeline.Item\n            position={isMobile ? 'right' : 'left'}\n            key={index + '_right'}\n            color={color}\n            dot={isLoading ? <LoadingOutlined /> : isPaused ? <PauseCircleOutlined /> : null}>\n            {executionSteps}\n          </Timeline.Item>,\n        ]\n      }\n\n      case 'cross': {\n        const { action, estimate } = step\n        return [\n          <Timeline.Item\n            position={isMobile ? 'right' : 'right'}\n            key={index + '_left'}\n            color={color}>\n            <h4>\n              Transfer from {getChainAvatar(getChainById(action.fromChainId).key)} to{' '}\n              {getChainAvatar(getChainById(action.toChainId).key)} via {getAvatar(step.tool)}\n            </h4>\n            <span>\n              {formatTokenAmount(action.fromToken, estimate.fromAmount)} <ArrowRightOutlined />{' '}\n              {formatTokenAmount(action.toToken, estimate.toAmount)}\n            </span>\n            {executionDuration}\n          </Timeline.Item>,\n          <Timeline.Item\n            position={isMobile ? 'right' : 'left'}\n            style={{ paddingBottom: isMobile ? 30 : 0 }}\n            key={index + '_right'}\n            color={color}\n            dot={isLoading ? <LoadingOutlined /> : isPaused ? <PauseCircleOutlined /> : null}>\n            {executionSteps}\n          </Timeline.Item>,\n        ]\n      }\n\n      case 'lifi': {\n        return [\n          <Timeline.Item\n            position={isMobile ? 'right' : 'right'}\n            key={index + '_left'}\n            color={color}>\n            <h4>\n              LiFi Contract from {getChainAvatar(getChainById(step.action.fromChainId).key)} to{' '}\n              {getChainAvatar(getChainById(step.action.toChainId).key)} via {getAvatar(step.tool)}\n            </h4>\n            <span>\n              {formatTokenAmount(step.action.fromToken, step.estimate?.fromAmount)}{' '}\n              <ArrowRightOutlined />{' '}\n              {formatTokenAmount(step.action.toToken, step.estimate?.toAmount)}\n            </span>\n            {executionDuration}\n          </Timeline.Item>,\n          <Timeline.Item\n            position={isMobile ? 'right' : 'left'}\n            key={index + '_right'}\n            color={color}\n            dot={isLoading ? <LoadingOutlined /> : null}>\n            {executionSteps}\n          </Timeline.Item>,\n        ]\n      }\n\n      default:\n        // eslint-disable-next-line no-console\n        console.warn('should never reach here')\n    }\n  }\n\n  const startCrossChainSwap = async () => {\n    if (!web3.account || !web3.library) return\n\n    const signer = web3.library.getSigner()\n\n    const settings: ExecutionSettings = {\n      updateCallback: updateCallback,\n      switchChainHook: switchChainHook,\n    }\n    storeRoute(route)\n    setIsSwapping(true)\n    setSwapStartedAt(Date.now())\n    try {\n      await LiFi.executeRoute(signer, route, settings)\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn('Execution failed!', route)\n      // eslint-disable-next-line no-console\n      console.error(e)\n      Notification.showNotification(NotificationType.TRANSACTION_ERROR)\n      setIsSwapping(false)\n      return\n    }\n    setFinalTokenAmount(await getFinalBalance(web3.account!, route))\n    setIsSwapping(false)\n    setSwapDoneAt(Date.now())\n    Notification.showNotification(NotificationType.TRANSACTION_SUCCESSFULL)\n    onSwapDone()\n  }\n\n  const resumeExecution = async () => {\n    if (!web3.account || !web3.library) return\n\n    const settings: ExecutionSettings = {\n      updateCallback,\n      switchChainHook,\n    }\n\n    setIsSwapping(true)\n    try {\n      await LiFi.resumeRoute(web3.library.getSigner(), route, settings)\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn('Execution failed!', route)\n      // eslint-disable-next-line no-console\n      console.error(e)\n      Notification.showNotification(NotificationType.TRANSACTION_ERROR)\n      setIsSwapping(false)\n      return\n    }\n    setFinalTokenAmount(await getFinalBalance(web3.account!, route))\n    setIsSwapping(false)\n    setSwapDoneAt(Date.now())\n    Notification.showNotification(NotificationType.TRANSACTION_SUCCESSFULL)\n    onSwapDone()\n  }\n\n  const restartCrossChainSwap = async () => {\n    // remove failed\n    for (let index = 0; index < steps.length; index++) {\n      if (steps[index].execution && steps[index].execution!.status === 'FAILED') {\n        steps[index].execution!.status = 'RESUME'\n        steps[index].execution!.process.pop() // remove last (failed) process\n        updateRoute(route)\n      }\n    }\n    // start again\n    resumeExecution()\n  }\n\n  const switchChainHook = async (requiredChainId: number) => {\n    if (!web3.account || !web3.library) return\n    if ((await web3.library.getSigner().getChainId()) !== requiredChainId) {\n      const switched = await switchChain(requiredChainId)\n      if (!switched) {\n        throw new Error('Chain was not switched')\n      }\n    }\n    return web3.library.getSigner()\n  }\n\n  // called on every execution status change\n  const updateCallback = (updatedRoute: Route) => {\n    storeRoute(updatedRoute)\n    updateRoute(updatedRoute)\n  }\n\n  const getMainButton = () => {\n    // PENDING\n    if (isSwapping) {\n      return <></>\n    }\n    const isCrossChainSwap = !!steps.find((step) => isCrossStep(step) || isLifiStep(step))\n\n    // DONE\n    const isDone = steps.filter((step) => step.execution?.status !== 'DONE').length === 0\n    if (isDone) {\n      const lastStep = steps[steps.length - 1]\n      const { toChain } = getReceivingInfo(lastStep)\n      const receivedAmount = new BigNumber(lastStep.execution?.toAmount || '0')\n      const successMessage = !!finalTokenAmount ? (\n        <>\n          {!receivedAmount.isZero() && (\n            <>\n              <Typography.Text>\n                {'You received '}\n                {new BigNumber(receivedAmount).shiftedBy(-finalTokenAmount.decimals).toFixed(4)}\n                {` ${finalTokenAmount.symbol}`}\n              </Typography.Text>\n              <br />\n            </>\n          )}\n          <Typography.Text\n            type={!receivedAmount.isZero() ? 'secondary' : undefined}\n            style={{ fontSize: !receivedAmount.isZero() ? 12 : 14 }}>\n            {'You now have '}\n            {new BigNumber(finalTokenAmount.amount).toFixed(4)}\n            {` ${finalTokenAmount.symbol}`}\n            {` on ${toChain.name}`}\n          </Typography.Text>\n        </>\n      ) : (\n        ''\n      )\n\n      return (\n        <Space direction=\"vertical\">\n          <Typography.Text strong>Swap Successful!</Typography.Text>\n          {finalTokenAmount &&\n            (finalTokenAmount.address === constants.AddressZero ? (\n              <span>{successMessage}</span>\n            ) : (\n              <Tooltip title=\"Click to add this token to your wallet.\">\n                <span\n                  style={{ cursor: 'copy' }}\n                  onClick={() => switchChainAndAddToken(toChain.id, finalTokenAmount)}>\n                  {successMessage}\n                </span>\n              </Tooltip>\n            ))}\n          <Link to=\"/dashboard\">\n            <Button type=\"link\">Dashboard</Button>\n          </Link>\n        </Space>\n      )\n    }\n\n    // FAILED\n    const isFailed = steps.some((step) => step.execution?.status === 'FAILED')\n    if (isFailed) {\n      return (\n        <Button type=\"primary\" onClick={() => restartCrossChainSwap()} style={{ marginTop: 10 }}>\n          Restart from Failed Step\n        </Button>\n      )\n    }\n\n    const chainSwitchRequired = steps.some(\n      (step) => step.execution?.status === 'CHAIN_SWITCH_REQUIRED',\n    )\n    if (chainSwitchRequired) {\n      return <></>\n    }\n\n    // NOT_STARTED\n    return (\n      <Button type=\"primary\" onClick={() => startCrossChainSwap()} style={{ marginTop: 10 }}>\n        {isCrossChainSwap ? 'Start Cross Chain Swap' : 'Start Swap'}\n      </Button>\n    )\n  }\n\n  const getCurrentProcess = () => {\n    for (const step of steps) {\n      if (step.execution?.process) {\n        for (const process of step.execution?.process) {\n          if (process.status === 'ACTION_REQUIRED' || process.status === 'PENDING') {\n            return process\n          }\n        }\n      }\n    }\n    return null\n  }\n\n  const currentProcess = getCurrentProcess()\n\n  return (\n    <>\n      {alerts}\n      <br />\n\n      <Timeline mode={isMobile ? 'left' : 'alternate'} className=\"swapping-modal-timeline\">\n        {/* Steps */}\n        {steps.map(parseStepToTimeline)}\n      </Timeline>\n\n      <div style={{ display: 'flex', backgroundColor: 'rgba(255,255,255, 0)' }}>\n        <Typography.Text style={{ marginLeft: 'auto', marginRight: 5 }}>\n          {swapStartedAt ? (\n            <span className=\"totalTime\">\n              <Clock startedAt={swapStartedAt} successAt={swapDoneAt} />\n            </span>\n          ) : (\n            <span>&nbsp;</span>\n          )}\n        </Typography.Text>\n      </div>\n\n      <Divider />\n\n      <div className=\"swapp-modal-footer\">\n        <div style={{ textAlign: 'center', transform: 'scale(1.3)' }}>{getMainButton()}</div>\n\n        {isSwapping && currentProcess && currentProcess.status === 'ACTION_REQUIRED' && (\n          <>\n            <Row justify=\"center\" style={{ marginBottom: 6 }}>\n              <Typography.Text>{renderProcessMessage(currentProcess)}</Typography.Text>\n            </Row>\n            <Row justify=\"center\">\n              <img src={walletIcon} alt=\"Please Check Your Wallet\" />\n            </Row>\n          </>\n        )}\n\n        {isSwapping && currentProcess && currentProcess.status === 'PENDING' && (\n          <>\n            <Row justify=\"center\">\n              <Typography.Text className=\"flashing\">\n                {renderProcessMessage(currentProcess)}\n              </Typography.Text>\n            </Row>\n            <Row style={{ marginTop: 20 }} justify=\"center\">\n              <Spin indicator={<LoadingIndicator />} />\n            </Row>\n          </>\n        )}\n      </div>\n    </>\n  )\n}\n\nexport default Swapping\n","export default \"data:image/png;base64,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\"","import { DeleteOutlined, LoadingOutlined, LoginOutlined } from '@ant-design/icons'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React } from '@web3-react/core'\nimport { Button, Popconfirm, Table } from 'antd'\n\nimport { formatTokenAmount, isWalletDeactivated } from '../services/utils'\nimport { findTool, getChainById, Route } from '../types'\nimport { getInjectedConnector } from './web3/connectors'\n\ninterface ActiveTrasactionsTableProps {\n  routes: Array<Route>\n  selectRoute: Function\n  deleteRoute: Function\n  historical?: boolean\n}\n\nfunction getStateText(route: Route) {\n  if (route.steps.some((step) => step.execution?.status === 'FAILED')) {\n    return 'Failed'\n  } else if (route.steps.every((step) => step.execution?.status === 'DONE')) {\n    return 'Done'\n  } else if (route.steps.some((step) => step.execution?.status === 'CANCELLED')) {\n    return 'Cancelled'\n  } else if (route.steps.some((step) => step.execution?.status === 'CHAIN_SWITCH_REQUIRED')) {\n    return 'Chain Switch Required'\n  } else if (\n    route.steps.some((step) =>\n      step.execution?.process.some((process) => process.status === 'ACTION_REQUIRED'),\n    )\n  ) {\n    return 'Action Required'\n  } else {\n    return 'Pending'\n  }\n}\n\nfunction TrasactionsTable({\n  routes,\n  selectRoute,\n  deleteRoute,\n  historical,\n}: ActiveTrasactionsTableProps) {\n  const web3 = useWeb3React<Web3Provider>()\n  const { active, activate } = useWeb3React()\n  const login = async () => activate(await getInjectedConnector())\n\n  const renderActionButton = (route: Route) => {\n    if (historical) {\n      return (\n        <Button danger type=\"ghost\" shape=\"round\" onClick={() => deleteRoute(route)}>\n          <DeleteOutlined />\n        </Button>\n      )\n    }\n    if (!web3.account) {\n      if (!active && isWalletDeactivated(web3.account)) {\n        return (\n          <Button disabled={true} type=\"ghost\" shape=\"round\" icon={<LoadingOutlined />}>\n            Connect Wallet\n          </Button>\n        )\n      }\n\n      return (\n        <Button type=\"ghost\" shape=\"round\" icon={<LoginOutlined />} onClick={() => login()}>\n          Connect Wallet\n        </Button>\n      )\n    }\n    return (\n      <span style={{ whiteSpace: 'nowrap' }}>\n        <Button\n          style={{ marginRight: 10, padding: '3px 16px 4px 16px' }}\n          type=\"primary\"\n          shape=\"round\"\n          onClick={() => selectRoute(route)}>\n          Resume Swap\n        </Button>\n        <Popconfirm\n          title={<>Are you sure to delete this transfer?</>}\n          onConfirm={() => deleteRoute(route)}\n          okText=\"Yes\"\n          okType=\"danger\"\n          cancelText=\"No\">\n          <Button style={{ padding: '3px 16px 4px 16px' }} danger type=\"ghost\" shape=\"round\">\n            <DeleteOutlined />\n          </Button>\n        </Popconfirm>\n      </span>\n    )\n  }\n\n  const columns = [\n    {\n      title: 'Started',\n      dataIndex: 'date',\n    },\n    {\n      title: 'From Chain',\n      dataIndex: 'fromChain',\n    },\n    {\n      title: 'From Token',\n      dataIndex: 'fromToken',\n    },\n    {\n      title: 'To Chain',\n      dataIndex: 'toChain',\n    },\n    {\n      title: 'To Token',\n      dataIndex: 'toToken',\n    },\n    {\n      title: 'Protocols',\n      dataIndex: 'protocols',\n    },\n    {\n      title: 'State',\n      dataIndex: 'state',\n    },\n    {\n      title: 'Action',\n      dataIndex: 'action',\n    },\n  ]\n\n  const data = routes.map((route, index) => {\n    const firstStep = route.steps[0]\n    const startedDate =\n      firstStep.execution?.process?.[0]?.startedAt &&\n      new Date(firstStep.execution.process[0].startedAt).toLocaleString()\n    const lastStep = route.steps[route.steps.length - 1]\n    let toChainId = lastStep.action.toChainId\n\n    return {\n      key: index,\n      date: startedDate,\n      fromChain: getChainById(firstStep.action.fromChainId).name,\n      toChain: getChainById(toChainId).name,\n      fromToken: `${formatTokenAmount(firstStep.action.fromToken, firstStep.estimate.fromAmount)}`,\n      toToken: `${formatTokenAmount(lastStep.action.toToken, lastStep.estimate.toAmount)}`,\n      protocols: route.steps.map((step) => findTool(step.tool)?.name).join(' > '),\n      state: getStateText(route),\n      action: renderActionButton(route),\n    }\n  })\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={data}\n      pagination={{ hideOnSinglePage: true, size: 'small', position: ['bottomCenter'] }}\n      className=\"tx-table\"\n    />\n  )\n}\n\nexport default TrasactionsTable\n","import './Swap.css'\n\nimport { LoadingOutlined, LoginOutlined, SwapOutlined, SyncOutlined } from '@ant-design/icons'\nimport { Web3Provider } from '@ethersproject/providers'\nimport LiFi, { supportedChains } from '@lifinance/sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  Button,\n  Checkbox,\n  Col,\n  Collapse,\n  Form,\n  InputNumber,\n  Modal,\n  Row,\n  Select,\n  Tooltip,\n  Typography,\n} from 'antd'\nimport { Content } from 'antd/lib/layout/layout'\nimport Title from 'antd/lib/typography/Title'\nimport BigNumber from 'bignumber.js'\nimport { ethers } from 'ethers'\nimport { createBrowserHistory } from 'history'\nimport { animate, stagger } from 'motion'\nimport QueryString from 'qs'\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\nimport { v4 as uuid } from 'uuid'\n\nimport { getRpcs } from '../config/connectors'\nimport {\n  deleteRoute,\n  readActiveRoutes,\n  readHistoricalRoutes,\n  storeRoute,\n} from '../services/localStorage'\nimport { switchChain } from '../services/metamask'\nimport { loadTokenListAsTokens } from '../services/tokenListService'\nimport {\n  deepClone,\n  formatTokenAmount,\n  formatTokenAmountOnly,\n  isWalletDeactivated,\n} from '../services/utils'\nimport {\n  Chain,\n  ChainId,\n  ChainKey,\n  CoinKey,\n  defaultTokens,\n  findDefaultToken,\n  getChainById,\n  getChainByKey,\n  isSwapStep,\n  Route as RouteType,\n  RoutesRequest,\n  RoutesResponse,\n  Token,\n  TokenAmount,\n} from '../types'\nimport LoadingIndicator from './LoadingIndicator'\nimport Route from './Route'\nimport SwapForm from './SwapForm'\nimport Swapping from './Swapping'\nimport TrasactionsTable from './TransactionsTable'\nimport { getInjectedConnector } from './web3/connectors'\n\nconst history = createBrowserHistory()\nconst { Panel } = Collapse\n\nlet currentRouteCallId: string\n\ninterface TokenWithAmounts extends Token {\n  amount?: BigNumber\n  amountRendered?: string\n}\n\nconst fadeInAnimation = (element: React.MutableRefObject<HTMLDivElement | null>) => {\n  setTimeout(() => {\n    const nodes = element.current?.childNodes\n    if (nodes) {\n      animate(\n        nodes as NodeListOf<Element>,\n        {\n          y: ['50px', '0px'],\n          opacity: [0, 1],\n        },\n        {\n          delay: stagger(0.2),\n          duration: 0.5,\n          easing: 'ease-in-out',\n        },\n      )\n    }\n  }, 0)\n}\n\nconst filterDefaultTokenByChains = (tokens: TokenAmountList, transferChains: Chain[]) => {\n  const result: TokenAmountList = {}\n\n  transferChains.forEach((chain) => {\n    if (tokens[chain.key]) {\n      result[chain.key] = tokens[chain.key]\n    }\n  })\n  return result\n}\n\nconst parseChain = (passed: string) => {\n  // is ChainKey?\n  const chainKeys = Object.values(ChainKey) as string[]\n  if (chainKeys.includes(passed.toLowerCase())) {\n    return ChainId[passed.toUpperCase() as keyof typeof ChainId]\n  }\n\n  // is ChainId?\n  const id = parseInt(passed)\n  if (!isNaN(id)) {\n    return id\n  }\n}\n\nconst parseToken = (\n  passed: string,\n  chainKey: ChainKey,\n  transferTokens: { [ChainKey: string]: Array<Token> },\n) => {\n  // is CoinKey?\n  const coinKeys = Object.values(CoinKey)\n  const coinKey = passed.toUpperCase() as CoinKey\n  if (coinKeys.includes(coinKey)) {\n    return findDefaultToken(coinKey, getChainByKey(chainKey).id)\n  }\n\n  // is token address valid?\n  const fromTokenId = ethers.utils.getAddress(passed.trim()).toLowerCase()\n  // does token address exist in our default tokens? (tokenlists not loaded yet)\n  return transferTokens[chainKey]?.find((token) => token.address === fromTokenId)\n}\n\nconst getDefaultParams = (\n  search: string,\n  transferChains: Chain[],\n  transferTokens: { [ChainKey: string]: Array<Token> },\n) => {\n  const defaultParams: StartParams = {\n    depositChain: undefined,\n    depositToken: undefined,\n    depositAmount: new BigNumber(-1),\n    withdrawChain: undefined,\n    withdrawToken: undefined,\n  }\n\n  const params = QueryString.parse(search, { ignoreQueryPrefix: true })\n\n  // fromChain\n  let newFromChain\n  if (params.fromChain && typeof params.fromChain === 'string') {\n    try {\n      const newFromChainId = parseChain(params.fromChain)\n      newFromChain = transferChains.find((chain) => chain.id === newFromChainId)\n\n      if (newFromChain) {\n        defaultParams.depositChain = newFromChain.key\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e)\n    }\n  }\n\n  // fromToken\n  if (params.fromToken && typeof params.fromToken === 'string' && defaultParams.depositChain) {\n    try {\n      const foundToken = parseToken(params.fromToken, defaultParams.depositChain, transferTokens)\n      const inDefault = transferTokens[defaultParams.depositChain].find(\n        (token) => token.address === foundToken?.address,\n      )\n      if (foundToken && inDefault) {\n        defaultParams.depositToken = foundToken.address\n      } else if (foundToken) {\n        transferTokens[defaultParams.depositChain].push(foundToken)\n        defaultParams.depositToken = foundToken.address\n      } else if (newFromChain) {\n        // only add unknow token if chain was specified with it\n        const fromTokenId = ethers.utils.getAddress(params.fromToken.trim()).toLowerCase()\n        transferTokens[defaultParams.depositChain].push({\n          address: fromTokenId,\n          symbol: 'Unknown',\n          decimals: 18,\n          chainId: newFromChain.id,\n          coinKey: '' as CoinKey,\n          name: 'Unknown',\n          logoURI: '',\n        })\n        defaultParams.depositToken = fromTokenId\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e)\n    }\n  }\n\n  // fromAmount\n  if (params.fromAmount && typeof params.fromAmount === 'string') {\n    try {\n      const newAmount = new BigNumber(params.fromAmount)\n      if (newAmount.gt(0)) {\n        defaultParams.depositAmount = newAmount\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e)\n    }\n  }\n\n  // toChain\n  let newToChain\n  if (params.toChain && typeof params.toChain === 'string') {\n    try {\n      const newToChainId = parseChain(params.toChain)\n      newToChain = transferChains.find((chain) => chain.id === newToChainId)\n\n      if (newToChain) {\n        defaultParams.withdrawChain = newToChain.key\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e)\n    }\n  }\n\n  // toToken\n  if (params.toToken && typeof params.toToken === 'string' && defaultParams.withdrawChain) {\n    try {\n      const foundToken = parseToken(params.toToken, defaultParams.withdrawChain, transferTokens)\n      const inDefault = transferTokens[defaultParams.withdrawChain].find(\n        (token) => token.address === foundToken?.address,\n      )\n      if (foundToken && inDefault) {\n        defaultParams.withdrawToken = foundToken.address\n      } else if (foundToken) {\n        transferTokens[defaultParams.withdrawChain].push(foundToken)\n        defaultParams.withdrawToken = foundToken.address\n      } else if (newToChain) {\n        // only add unknow token if chain was specified with it\n        const toTokenId = ethers.utils.getAddress(params.toToken.trim()).toLowerCase()\n        transferTokens[defaultParams.withdrawChain].push({\n          address: toTokenId,\n          symbol: 'Unknown',\n          decimals: 18,\n          chainId: newToChain.id,\n          coinKey: '' as CoinKey,\n          name: 'Unknown',\n          logoURI: '',\n        })\n        defaultParams.withdrawToken = toTokenId\n      }\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e)\n    }\n  }\n\n  return defaultParams\n}\n\ninterface TokenAmountList {\n  [ChainKey: string]: Array<TokenWithAmounts>\n}\n\ninterface StartParams {\n  depositChain?: ChainKey\n  depositToken?: string\n  depositAmount: BigNumber\n  withdrawChain?: ChainKey\n  withdrawToken?: string\n}\n\nlet startParams: StartParams\n\ninterface SwapProps {\n  transferChains: Chain[]\n}\n\nconst Swap = ({ transferChains }: SwapProps) => {\n  const transferTokens = filterDefaultTokenByChains(defaultTokens, transferChains)\n  startParams =\n    startParams ?? getDefaultParams(history.location.search, transferChains, transferTokens)\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [unused, setStateUpdate] = useState<number>(0)\n\n  // From\n  const [fromChainKey, setFromChainKey] = useState<ChainKey | undefined>(startParams.depositChain)\n  const [depositAmount, setDepositAmount] = useState<BigNumber>(startParams.depositAmount)\n  const [fromTokenAddress, setFromTokenAddress] = useState<string | undefined>(\n    startParams.depositToken,\n  )\n  const [toChainKey, setToChainKey] = useState<ChainKey | undefined>(startParams.withdrawChain)\n  const [withdrawAmount, setWithdrawAmount] = useState<BigNumber>(new BigNumber(Infinity))\n  const [toTokenAddress, setToTokenAddress] = useState<string | undefined>(\n    startParams.withdrawToken,\n  )\n  const [tokens, setTokens] = useState<TokenAmountList>(transferTokens)\n  const [refreshTokens, setRefreshTokens] = useState<boolean>(false)\n  const [balances, setBalances] = useState<{ [ChainKey: string]: Array<TokenAmount> }>()\n  const [refreshBalances, setRefreshBalances] = useState<boolean>(true)\n  const [routeCallResult, setRouteCallResult] = useState<{ result: RoutesResponse; id: string }>()\n\n  // Options\n  const [optionSlippage, setOptionSlippage] = useState<number>(3)\n  const [optionInfiniteApproval, setOptionInfiniteApproval] = useState<boolean>(true)\n  const [optionEnabledBridges, setOptionEnabledBridges] = useState<string[] | undefined>()\n  const [availableBridges, setAvailableBridges] = useState<string[]>([])\n  const [optionEnabledExchanges, setOptionEnabledExchanges] = useState<string[] | undefined>()\n  const [availableExchanges, setAvailableExchanges] = useState<string[]>([])\n\n  // Routes\n  const [routes, setRoutes] = useState<Array<RouteType>>([])\n  const [routesLoading, setRoutesLoading] = useState<boolean>(false)\n  const [noRoutesAvailable, setNoRoutesAvailable] = useState<boolean>(false)\n  const [selectedRoute, setSelectedRoute] = useState<RouteType | undefined>()\n  const [highlightedIndex, setHighlightedIndex] = useState<number>(-1)\n  const [activeRoutes, setActiveRoutes] = useState<Array<RouteType>>(readActiveRoutes())\n  const [historicalRoutes, setHistoricalRoutes] = useState<Array<RouteType>>(readHistoricalRoutes())\n\n  // Misc\n  const [restartedOnPageLoad, setRestartedOnPageLoad] = useState<boolean>(false)\n  const [balancePollingStarted, setBalancePollingStarted] = useState<boolean>(false)\n\n  // Wallet\n  const web3 = useWeb3React<Web3Provider>()\n  const { active, activate } = useWeb3React()\n  const login = async () => activate(await getInjectedConnector())\n\n  // Elements used for animations\n  const routeCards = useRef<HTMLDivElement | null>(null)\n\n  // new\n\n  const [showRoutesable, setShowRoutesable] = useState<boolean>(false)\n\n  const showRoutes = () => {\n    if (showRoutesable === false) {\n      setShowRoutesable(true)\n    } else {\n      setShowRoutesable(false)\n    }\n  }\n\n  useEffect(() => {\n    // get new execution status on page load\n    if (!restartedOnPageLoad) {\n      setRestartedOnPageLoad(true)\n\n      activeRoutes.map((route) => {\n        if (!web3 || !web3.library) return\n        // check if it makes sense to fetch the status of a route:\n        // if failed or action required it makes no sense\n        const routeFailed = route.steps.some(\n          (step) => step.execution && step.execution.status === 'FAILED',\n        )\n        const actionRequired = route.steps.some(\n          (step) =>\n            step.execution &&\n            step.execution.process.some((process) => process.status === 'ACTION_REQUIRED'),\n        )\n\n        if (routeFailed || actionRequired) return\n        const settings = {\n          updateCallback: (updatedRoute: RouteType) => {\n            storeRoute(updatedRoute)\n            setActiveRoutes(readActiveRoutes())\n            setHistoricalRoutes(readHistoricalRoutes())\n          },\n        }\n        LiFi.resumeRoute(web3.library.getSigner(), route, settings)\n        LiFi.moveExecutionToBackground(route)\n      })\n    }\n  }, [web3.library])\n\n  useEffect(() => {\n    // executed once after page is loaded\n    if (!balancePollingStarted) {\n      setBalancePollingStarted(true)\n\n      // start balance polling\n      const pollingInterval = setInterval(() => {\n        setRefreshBalances(true)\n      }, 60_000)\n\n      return () => {\n        clearInterval(pollingInterval)\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    const load = async () => {\n      LiFi.setConfig({\n        apiUrl: process.env.REACT_APP_API_URL,\n        rpcs: getRpcs(),\n        defaultRouteOptions: {\n          integrator: 'li.finance',\n        },\n      })\n\n      const possibilities = await LiFi.getPossibilities()\n\n      // bridges\n      const bridges: string[] = possibilities.bridges\n        .map((bridge: any) => bridge.tool)\n        .map((bridgeTool: string) => bridgeTool.split('-')[0])\n      const allBridges = Array.from(new Set(bridges))\n      setAvailableBridges(allBridges)\n      setOptionEnabledBridges(allBridges)\n\n      // exchanges\n      const exchanges: string[] = possibilities.exchanges\n        .map((exchange: any) => exchange.tool)\n        .map((exchangeTool: string) => exchangeTool.split('-')[0])\n      const allExchanges = Array.from(new Set(exchanges))\n      setAvailableExchanges(allExchanges)\n      setOptionEnabledExchanges(allExchanges)\n\n      // tokens\n      const newTokens: TokenAmountList = {}\n      possibilities.tokens.forEach((token) => {\n        const chain = getChainById(token.chainId)\n        if (!newTokens[chain.key]) newTokens[chain.key] = []\n        newTokens[chain.key].push(token)\n      })\n\n      setTokens((tokens) => {\n        // which existing tokens are not included?\n        Object.keys(tokens).forEach((chainKey) => {\n          tokens[chainKey].forEach((token) => {\n            if (!newTokens[chainKey]) newTokens[chainKey] = []\n            if (!newTokens[chainKey].find((item) => item.address === token.address)) {\n              newTokens[chainKey].push(token)\n\n              // -> load token from API to get current version (e.g. if token was added via url)\n              updateTokenData(token)\n            }\n          })\n        })\n        return newTokens\n      })\n      setRefreshBalances(true)\n    }\n\n    load()\n  }, [])\n\n  const updateTokenData = (token: Token) => {\n    LiFi.getToken(token.chainId, token.address).then((updatedToken) => {\n      // sync optional properties\n      updatedToken.logoURI = updatedToken.logoURI || token.logoURI\n      updatedToken.priceUSD = updatedToken.priceUSD || token.priceUSD\n\n      // update tokens\n      setTokens((tokens) => {\n        const chain = getChainById(updatedToken.chainId)\n        if (!tokens[chain.key]) tokens[chain.key] = []\n        const index = tokens[chain.key].findIndex((token) => token.address === updatedToken.address)\n        if (index === -1) {\n          tokens[chain.key].push(updatedToken)\n        } else {\n          tokens[chain.key][index] = updatedToken\n        }\n        return tokens\n      })\n    })\n  }\n\n  const getSelectedWithdraw = () => {\n    if (highlightedIndex === -1) {\n      return {\n        estimate: '0.0',\n      }\n    } else {\n      const selectedRoute = routes[highlightedIndex]\n      const lastStep = selectedRoute.steps[selectedRoute.steps.length - 1]\n      return {\n        estimate: formatTokenAmountOnly(lastStep.action.toToken, lastStep.estimate?.toAmount),\n        min: formatTokenAmount(lastStep.action.toToken, lastStep.estimate?.toAmountMin),\n      }\n    }\n  }\n\n  // autoselect from chain based on wallet\n  useEffect(() => {\n    const walletChainIsSupported = supportedChains.some((chain) => chain.id === web3.chainId)\n    if (!walletChainIsSupported) return\n    if (web3.chainId && !fromChainKey) {\n      const chain = transferChains.find((chain) => chain.id === web3.chainId)\n      if (chain) {\n        setFromChainKey(chain.key)\n      }\n    }\n  }, [web3.chainId, fromChainKey])\n\n  // update query string\n  useEffect(() => {\n    const params = {\n      fromChain: fromChainKey,\n      fromToken: fromTokenAddress,\n      toChain: toChainKey,\n      toToken: toTokenAddress,\n      fromAmount: depositAmount.gt(0) ? depositAmount.toFixed() : undefined,\n    }\n    const search = QueryString.stringify(params)\n    history.push({\n      search,\n    })\n  }, [fromChainKey, fromTokenAddress, toChainKey, toTokenAddress, depositAmount])\n\n  useEffect(() => {\n    if (refreshTokens) {\n      setRefreshTokens(false)\n\n      transferChains.map(async (chain) => {\n        const newTokens = {\n          [chain.key]: await loadTokenListAsTokens(chain.id),\n        }\n        setTokens((tokens) => Object.assign(tokens, newTokens))\n        setStateUpdate((stateUpdate) => stateUpdate + 1)\n      })\n    }\n  }, [refreshTokens, transferChains])\n\n  const updateBalances = useCallback(async () => {\n    if (web3.account) {\n      // one call per chain to show balances as soon as the request comes back\n      Object.entries(tokens).forEach(([chainKey, tokenList]) => {\n        LiFi.getTokenBalances(web3.account!, tokenList).then((portfolio) => {\n          setBalances((balances) => {\n            if (!balances) balances = {}\n            return {\n              ...balances,\n              [chainKey]: portfolio,\n            }\n          })\n        })\n      })\n    }\n  }, [web3.account, tokens])\n\n  useEffect(() => {\n    if (refreshBalances && web3.account) {\n      setRefreshBalances(false)\n      updateBalances()\n    }\n  }, [refreshBalances, web3.account, updateBalances])\n\n  useEffect(() => {\n    if (!web3.account) {\n      setBalances(undefined) // reset old balances\n    }\n  }, [web3.account])\n\n  const getBalance = (\n    currentBalances: { [ChainKey: string]: Array<TokenAmount> } | undefined,\n    chainKey: ChainKey,\n    tokenId: string,\n  ) => {\n    if (!currentBalances || !currentBalances[chainKey]) {\n      return new BigNumber(0)\n    }\n\n    const tokenBalance = currentBalances[chainKey].find(\n      (tokenAmount) => tokenAmount.address === tokenId,\n    )\n    return tokenBalance?.amount ? new BigNumber(tokenBalance?.amount) : new BigNumber(0)\n  }\n\n  useEffect(() => {\n    // merge tokens and balances\n    for (const chain of transferChains) {\n      if (!tokens[chain.key]) {\n        continue\n      }\n      for (const token of tokens[chain.key]) {\n        if (!balances || !balances[chain.key]) {\n          // balances for chain not loaded yet\n          token.amount = new BigNumber(-1)\n          token.amountRendered = undefined\n        } else {\n          // balances loaded\n          token.amount = getBalance(balances, chain.key, token.address)\n          token.amountRendered = formatTokenAmountOnly(token, token.amount)\n        }\n      }\n    }\n\n    setTokens(tokens)\n    setStateUpdate((stateUpdate) => stateUpdate + 1)\n  }, [tokens, balances, transferChains])\n\n  const hasSufficientBalance = () => {\n    if (!fromTokenAddress || !fromChainKey) {\n      return true\n    }\n\n    return depositAmount.lte(getBalance(balances, fromChainKey, fromTokenAddress))\n  }\n\n  const hasSufficientGasBalanceOnStartChain = (route?: RouteType) => {\n    if (!route) {\n      return true\n    }\n\n    const fromChain = getChainById(route.fromChainId)\n    const balance = getBalance(balances, fromChain.key, ethers.constants.AddressZero)\n\n    const requiredAmount = route.steps\n      .filter((step) => step.action.fromChainId === route.fromChainId)\n      .map(\n        (step) =>\n          step.estimate.gasCosts &&\n          step.estimate.gasCosts.length &&\n          step.estimate.gasCosts[0].amount,\n      )\n      .map((amount) => new BigNumber(amount || '0'))\n      .reduce((a, b) => a.plus(b), new BigNumber(0))\n      .shiftedBy(-18)\n    return !balance.isZero() && balance.gte(requiredAmount)\n  }\n\n  const hasSufficientGasBalanceOnCrossChain = (route?: RouteType) => {\n    if (!route) {\n      return true\n    }\n    const lastStep = route.steps[route.steps.length - 1]\n    if (!isSwapStep(lastStep)) {\n      return true\n    }\n\n    const crossChain = getChainById(lastStep.action.fromChainId)\n    const balance = getBalance(balances, crossChain.key, ethers.constants.AddressZero)\n\n    const gasEstimate =\n      lastStep.estimate.gasCosts &&\n      lastStep.estimate.gasCosts.length &&\n      lastStep.estimate.gasCosts[0].amount\n    const requiredAmount = new BigNumber(gasEstimate || 0).shiftedBy(-18)\n    return !balance.isZero() && balance.gte(requiredAmount)\n  }\n\n  const findToken = useCallback(\n    (chainKey: ChainKey, tokenId: string) => {\n      const token = tokens[chainKey].find((token) => token.address === tokenId)\n      if (!token) {\n        throw new Error('Token not found')\n      }\n      return token\n    },\n    [tokens],\n  )\n\n  useEffect(() => {\n    const getTransferRoutes = async () => {\n      setRoutes([])\n      setHighlightedIndex(-1)\n      setNoRoutesAvailable(false)\n\n      if (depositAmount.gt(0) && fromChainKey && fromTokenAddress && toChainKey && toTokenAddress) {\n        setRoutesLoading(true)\n        const fromToken = findToken(fromChainKey, fromTokenAddress)\n        const toToken = findToken(toChainKey, toTokenAddress)\n        const request: RoutesRequest = {\n          fromChainId: fromToken.chainId,\n          fromAmount: new BigNumber(depositAmount).shiftedBy(fromToken.decimals).toFixed(0),\n          fromTokenAddress,\n          toChainId: toToken.chainId,\n          toTokenAddress,\n          fromAddress: web3.account || undefined,\n          toAddress: web3.account || undefined,\n          options: {\n            slippage: optionSlippage / 100,\n            bridges: {\n              allow: optionEnabledBridges,\n            },\n            exchanges: {\n              allow: optionEnabledExchanges,\n            },\n          },\n        }\n\n        const id = uuid()\n        try {\n          currentRouteCallId = id\n          const result = await LiFi.getRoutes(request)\n          setRouteCallResult({ result, id })\n        } catch {\n          if (id === currentRouteCallId || !currentRouteCallId) {\n            setNoRoutesAvailable(true)\n            setRoutesLoading(false)\n          }\n        }\n      }\n    }\n\n    getTransferRoutes()\n  }, [\n    depositAmount,\n    fromChainKey,\n    fromTokenAddress,\n    toChainKey,\n    toTokenAddress,\n    optionSlippage,\n    optionEnabledBridges,\n    optionEnabledExchanges,\n    findToken,\n  ])\n\n  // set route call results\n  useEffect(() => {\n    if (routeCallResult) {\n      const { result, id } = routeCallResult\n      if (id === currentRouteCallId) {\n        setRoutes(result.routes)\n        fadeInAnimation(routeCards)\n        setHighlightedIndex(result.routes.length === 0 ? -1 : 0)\n        setNoRoutesAvailable(result.routes.length === 0)\n        setRoutesLoading(false)\n      }\n    }\n  }, [routeCallResult, currentRouteCallId])\n\n  const openModal = () => {\n    // deepClone to open new modal without execution info of previous transfer using same route card\n    setSelectedRoute(deepClone(routes[highlightedIndex]))\n\n    // Reset routes to avoid reexecution with same data\n    setRoutes([])\n    setHighlightedIndex(-1)\n    setNoRoutesAvailable(false)\n  }\n\n  const submitButton = () => {\n    if (!active && isWalletDeactivated(web3.account)) {\n      return (\n        <Button\n          disabled={true}\n          shape=\"round\"\n          type=\"primary\"\n          icon={<LoadingOutlined />}\n          size={'large'}></Button>\n      )\n    }\n    if (!web3.account) {\n      return (\n        <Button\n          shape=\"round\"\n          type=\"primary\"\n          icon={<LoginOutlined />}\n          size={'large'}\n          onClick={() => login()}>\n          Connect Wallet\n        </Button>\n      )\n    }\n    if (fromChainKey && web3.chainId !== getChainByKey(fromChainKey).id) {\n      const fromChain = getChainByKey(fromChainKey)\n      return (\n        <Button\n          shape=\"round\"\n          type=\"primary\"\n          icon={<SwapOutlined />}\n          size={'large'}\n          htmlType=\"submit\"\n          onClick={() => switchChain(fromChain.id)}>\n          Switch Network to {fromChain.name}\n        </Button>\n      )\n    }\n    if (routesLoading) {\n      return (\n        <Button\n          disabled={true}\n          shape=\"round\"\n          type=\"primary\"\n          icon={<SyncOutlined spin />}\n          size={'large'}>\n          Searching Routes...\n        </Button>\n      )\n    }\n    if (noRoutesAvailable) {\n      return (\n        <Button disabled={true} shape=\"round\" type=\"primary\" size={'large'}>\n          No Route Found\n        </Button>\n      )\n    }\n    if (!hasSufficientGasBalanceOnStartChain(routes[highlightedIndex])) {\n      return (\n        <Button disabled={true} shape=\"round\" type=\"primary\" size={'large'}>\n          Insufficient Gas on Start Chain\n        </Button>\n      )\n    }\n    if (!hasSufficientGasBalanceOnCrossChain(routes[highlightedIndex])) {\n      return (\n        <Tooltip title=\"The selected route requires a swap on the chain you are tranferring to. You need to have gas on that chain to pay for the transaction there.\">\n          <Button disabled={true} shape=\"round\" type=\"primary\" size={'large'}>\n            Insufficient Gas on Destination Chain\n          </Button>\n        </Tooltip>\n      )\n    }\n    if (!hasSufficientBalance()) {\n      return (\n        <Button disabled={true} shape=\"round\" type=\"primary\" size={'large'}>\n          Insufficient Funds\n        </Button>\n      )\n    }\n\n    return (\n      <Button\n        disabled={highlightedIndex === -1}\n        shape=\"round\"\n        type=\"primary\"\n        icon={<SwapOutlined />}\n        size={'large'}\n        onClick={() => openModal()}>\n        Swap\n      </Button>\n    )\n  }\n\n  return (\n    <Content className=\"site-layout site-layout-swap\">\n      <div className=\"swap-view\">\n        {/* Historical Routes */}\n        {!!historicalRoutes.length && (\n          <Row justify={'center'} className=\"historicalTransfers\">\n            <Collapse\n              defaultActiveKey={['']}\n              ghost\n              bordered={false}\n              className={`active-transfer-collapse`}\n              style={{ overflowX: 'scroll' }}>\n              <Panel\n                header={`Historical Transfers (${historicalRoutes.length})`}\n                key=\"1\"\n                className=\"site-collapse-active-transfer-panel\">\n                <div>\n                  <TrasactionsTable\n                    routes={historicalRoutes}\n                    selectRoute={() => {}}\n                    deleteRoute={(route: RouteType) => {\n                      LiFi.stopExecution(route)\n                      deleteRoute(route)\n                      setHistoricalRoutes(readHistoricalRoutes())\n                    }}\n                    historical={true}></TrasactionsTable>\n                </div>\n              </Panel>\n            </Collapse>\n          </Row>\n        )}\n\n        {/* Active Routes */}\n        {!!activeRoutes.length && (\n          <Row justify={'center'} className=\"activeTransfers\">\n            <Collapse\n              defaultActiveKey={activeRoutes.length ? ['1'] : ['']}\n              ghost\n              bordered={false}\n              className={`active-transfer-collapse`}\n              style={{ overflowX: 'scroll' }}>\n              <Panel\n                header={`Active Transfers (${activeRoutes.length})`}\n                key=\"1\"\n                className=\"site-collapse-active-transfer-panel\">\n                <div>\n                  <TrasactionsTable\n                    routes={activeRoutes}\n                    selectRoute={(route: RouteType) => setSelectedRoute(route)}\n                    deleteRoute={(route: RouteType) => {\n                      LiFi.stopExecution(route)\n                      deleteRoute(route)\n                      setActiveRoutes(readActiveRoutes())\n                    }}></TrasactionsTable>\n                </div>\n              </Panel>\n            </Collapse>\n          </Row>\n        )}\n\n        {/* Swap Form */}\n        <Row style={{ margin: 20 }} justify={'center'}>\n          <Col className={'swap-form animate ' + (showRoutesable ? 'visuallyhidden' : '')}>\n            <div\n              className=\"swap-input\"\n              style={{ maxWidth: 450, borderRadius: 6, padding: 24, margin: '0 auto' }}>\n              <Row>\n                <Title className=\"swap-title\" level={4}>\n                  Please Specify Your Transaction\n                </Title>\n              </Row>\n\n              <Form>\n                <SwapForm\n                  depositChain={fromChainKey}\n                  setDepositChain={setFromChainKey}\n                  depositToken={fromTokenAddress}\n                  setDepositToken={setFromTokenAddress}\n                  depositAmount={depositAmount}\n                  setDepositAmount={setDepositAmount}\n                  withdrawChain={toChainKey}\n                  setWithdrawChain={setToChainKey}\n                  withdrawToken={toTokenAddress}\n                  setWithdrawToken={setToTokenAddress}\n                  withdrawAmount={withdrawAmount}\n                  setWithdrawAmount={setWithdrawAmount}\n                  estimatedWithdrawAmount={getSelectedWithdraw().estimate}\n                  estimatedMinWithdrawAmount={getSelectedWithdraw().min}\n                  transferChains={transferChains}\n                  tokens={tokens}\n                  balances={balances}\n                  allowSameChains={true}\n                />\n                <span>\n                  <Row style={{ marginTop: 24 }} justify={'center'}>\n                    {submitButton()}\n                  </Row>\n                  {/* Advanced Options */}\n                  <Row justify={'center'}>\n                    <Collapse ghost style={{ width: '100%' }}>\n                      <Collapse.Panel header={`Advanced Options`} key=\"1\">\n                        Slippage\n                        <div>\n                          <InputNumber\n                            defaultValue={optionSlippage}\n                            min={0}\n                            max={100}\n                            formatter={(value) => `${value}%`}\n                            parser={(value) => parseFloat(value ? value.replace('%', '') : '')}\n                            onChange={setOptionSlippage}\n                            style={{\n                              border: '1px solid rgba(0,0,0,0.25)',\n                              borderRadius: 6,\n                              width: '100%',\n                            }}\n                          />\n                        </div>\n                        Infinite Approval\n                        <div>\n                          <Checkbox\n                            checked={optionInfiniteApproval}\n                            onChange={(e) => setOptionInfiniteApproval(e.target.checked)}\n                            disabled={true}>\n                            Activate Infinite Approval\n                          </Checkbox>\n                        </div>\n                        Bridges\n                        <div>\n                          <Select\n                            mode=\"multiple\"\n                            placeholder=\"Select enabled bridges\"\n                            value={optionEnabledBridges}\n                            onChange={setOptionEnabledBridges}\n                            style={{\n                              borderRadius: 6,\n                              width: '100%',\n                            }}>\n                            {availableBridges.map((bridge) => (\n                              <Select.Option key={bridge} value={bridge}>\n                                {bridge}\n                              </Select.Option>\n                            ))}\n                          </Select>\n                        </div>\n                        Exchanges\n                        <div>\n                          <Select\n                            mode=\"multiple\"\n                            placeholder=\"Select enabled exchanges\"\n                            value={optionEnabledExchanges}\n                            onChange={setOptionEnabledExchanges}\n                            style={{\n                              borderRadius: 6,\n                              width: '100%',\n                            }}>\n                            {availableExchanges.map((exchange) => (\n                              <Select.Option key={exchange} value={exchange}>\n                                {exchange}\n                              </Select.Option>\n                            ))}\n                          </Select>\n                        </div>\n                      </Collapse.Panel>\n                    </Collapse>\n                  </Row>\n                </span>\n              </Form>\n            </div>\n          </Col>\n        </Row>\n\n        {/* Routes */}\n\n        <Row justify={'center'}>\n          {/*  */}\n          {routes.length > 0 && <button onClick={showRoutes}>Show Routes</button>}\n          {/* loading */}\n          {routesLoading && (\n            <Col>\n              <Row gutter={[32, 62]} justify={'center'} style={{ marginTop: 0 }}>\n                <LoadingIndicator></LoadingIndicator>\n              </Row>\n            </Col>\n          )}\n        </Row>\n\n        <Row\n          className={'animate ' + (showRoutesable ? '' : 'visuallyhidden')}\n          justify={'center'}\n          style={{\n            marginLeft: 12,\n            marginRight: 12,\n            marginTop: 48,\n            padding: 12,\n          }}>\n          {routes.length > 0 && (\n            <Col>\n              <h3 style={{ textAlign: 'center' }}>Routes</h3>\n              <div\n                style={{ display: 'flex', flexDirection: 'row', overflowX: 'scroll' }}\n                ref={routeCards}>\n                {routes.map((route, index) => (\n                  <Route\n                    key={index}\n                    route={route}\n                    selected={highlightedIndex === index}\n                    onSelect={() => setHighlightedIndex(index)}\n                  />\n                ))}\n              </div>\n            </Col>\n          )}\n\n          {!routesLoading && noRoutesAvailable && (\n            <Col style={{ width: '50%' }} className=\"no-routes-found\">\n              <h3 style={{ textAlign: 'center' }}>No Route Found</h3>\n              <Typography.Text type=\"secondary\" style={{ textAlign: 'left' }}>\n                We couldn't find suitable routes for your desired transfer. We do have some\n                suggestions why that could be: <br />\n              </Typography.Text>\n              <Collapse ghost className=\"no-route-custom-collapse\">\n                <Panel header=\"A route for this transaction simply does not exist yet.\" key=\"1\">\n                  <p style={{ color: 'grey' }}>\n                    We are working hard on integrating more exchanges to find possible transactions\n                    for you! Look out for updates and try again later.\n                  </p>\n                </Panel>\n\n                <Panel header=\"You are not sending enough tokens - Try a greater amount.\" key=\"2\">\n                  <p style={{ color: 'grey' }}>\n                    Transactions cost money. These transaction costs are deducted from your swapping\n                    amount. If this amount is not enough to cover the expenses, we can not execute\n                    the transaction or compute routes.\n                  </p>\n                </Panel>\n              </Collapse>\n            </Col>\n          )}\n        </Row>\n      </div>\n\n      {selectedRoute && !!selectedRoute.steps.length && (\n        <Modal\n          className=\"swapModal\"\n          visible={selectedRoute.steps.length > 0}\n          onOk={() => {\n            setSelectedRoute(undefined)\n            updateBalances()\n          }}\n          onCancel={() => {\n            setSelectedRoute(undefined)\n            updateBalances()\n          }}\n          destroyOnClose={true}\n          width={700}\n          footer={null}>\n          <Swapping\n            route={selectedRoute}\n            updateRoute={() => {\n              setActiveRoutes(readActiveRoutes())\n              setHistoricalRoutes(readHistoricalRoutes())\n            }}\n            onSwapDone={() => {\n              setActiveRoutes(readActiveRoutes())\n              setHistoricalRoutes(readHistoricalRoutes())\n              updateBalances()\n            }}></Swapping>\n        </Modal>\n      )}\n    </Content>\n  )\n}\n\nexport default Swap\n","export default __webpack_public_path__ + \"static/media/metamask_disconnect.9b2d3abf.gif\";","import { DisconnectOutlined } from '@ant-design/icons'\nimport { useWeb3React } from '@web3-react/core'\nimport { Button, Checkbox, Image, Popover, Typography } from 'antd'\nimport { useEffect, useState } from 'react'\n\nimport metamaskGif from '../../assets/gifs/metamask_disconnect.gif'\nimport {\n  readDeactivatedWallets,\n  readHideDisconnectPopup,\n  readWallets,\n  storeDeactivatedWallets,\n  storeHideDisconnectPopup,\n  storeWallets,\n} from '../../services/localStorage'\n\nconst { Text } = Typography\n\nconst removeFromActiveWallets = (address: string | null | undefined) => {\n  if (!address) return\n  const lowerCaseAddress = address.toLowerCase()\n  const wallets = readWallets()\n  const filteredWallets = wallets.filter((address) => address !== lowerCaseAddress)\n  storeWallets(filteredWallets)\n}\n\nconst addToDeactivatedWallets = (address: string | null | undefined) => {\n  if (!address) return\n  const lowerCaseAddress = address.toLowerCase()\n  const deactivatedWallets = readDeactivatedWallets()\n  deactivatedWallets.push(lowerCaseAddress)\n  storeDeactivatedWallets(deactivatedWallets)\n}\n\ntype DisconnectButtonPropType = {\n  style?: React.CSSProperties\n  className?: string\n}\n\nfunction DisconnectButton({ style, className }: DisconnectButtonPropType) {\n  const { deactivate, account, library } = useWeb3React()\n\n  const [hideDisconnectPopup] = useState<boolean>(readHideDisconnectPopup())\n  const [walletIdentifier, setWalletIdentifier] = useState<string>('Wallet')\n\n  const handleDisconnect = () => {\n    removeFromActiveWallets(account)\n    addToDeactivatedWallets(account)\n    deactivate()\n  }\n\n  const handleHideDisconnectPopup = (event: any) => {\n    storeHideDisconnectPopup(event.target.checked)\n  }\n\n  useEffect(() => {\n    if (!account) return\n    library\n      .lookupAddress(account)\n      .then((name: string) => {\n        if (!name) return setWalletIdentifier(`${account.substr(0, 4)}...`)\n        setWalletIdentifier(name)\n      })\n      .catch((e: unknown) => setWalletIdentifier(`${account.substr(0, 4)}...`))\n  }, [library, account])\n\n  const infoContent = (\n    <>\n      <Text style={{ display: 'block', maxWidth: 300, margin: '16px 0 16px 0' }}>\n        In order to fully disconnect your wallet and to withdraw all given permissions, please open\n        your wallet.\n      </Text>\n      <Image width={300} src={metamaskGif} style={{ display: 'block' }} />\n      <br />\n      <Checkbox onChange={handleHideDisconnectPopup} style={{ margin: '16px 0 16px 0' }}>\n        Understood, don't show again!\n      </Checkbox>\n      <Button\n        type=\"link\"\n        onClick={() => handleDisconnect()}\n        style={{ display: 'block', paddingLeft: 0 }}>\n        <u>Deactivate {walletIdentifier} </u>\n      </Button>\n    </>\n  )\n\n  if (hideDisconnectPopup) {\n    return (\n      <>\n        <Button\n          className={className}\n          style={{ ...{ borderRadius: 6 }, ...style }}\n          onClick={() => handleDisconnect()}\n          danger\n          icon={<DisconnectOutlined />}>\n          Deactivate {walletIdentifier}\n        </Button>\n      </>\n    )\n  } else {\n    return (\n      <>\n        <Popover content={infoContent} trigger=\"click\">\n          <Button\n            className={className}\n            style={{ borderRadius: 6 }}\n            danger\n            icon={<DisconnectOutlined />}>\n            Deactivate {walletIdentifier}\n          </Button>\n        </Popover>\n      </>\n    )\n  }\n}\n\nexport default DisconnectButton\n","import { LoadingOutlined } from '@ant-design/icons'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React } from '@web3-react/core'\nimport { Button } from 'antd'\n\nimport { isWalletDeactivated } from '../../services/utils'\nimport ConnectButton from './ConnectButton'\nimport DisconnectButton from './DisconnectButton'\n\ntype WalletButtonsPropType = {\n  className?: string\n}\n\nfunction WalletButtons({ className }: WalletButtonsPropType) {\n  const web3 = useWeb3React<Web3Provider>()\n\n  if (!web3.active && isWalletDeactivated(web3.account)) {\n    return (\n      <Button className={className} disabled type=\"primary\" icon={<LoadingOutlined />}></Button>\n    )\n  } else if (!web3.account) {\n    return <ConnectButton className={className}></ConnectButton>\n  } else {\n    return <DisconnectButton className={className}></DisconnectButton>\n  }\n}\n\nexport default WalletButtons\n","import { Web3Provider } from '@ethersproject/providers'\nimport { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\n\nimport { network } from './connectors'\nimport { useEagerConnect, useInactiveListener } from './hooks'\n\nfunction Web3ConnectionManager({ children }: { children: JSX.Element }) {\n  const web3 = useWeb3React<Web3Provider>()\n  const { connector, activate, active } = web3\n\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  useEffect(() => {\n    if (triedEager && !active) {\n      activate(network)\n    }\n  }, [triedEager, active, connector, activate])\n\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n  useInactiveListener(!triedEager)\n\n  return children\n}\n\nexport default Web3ConnectionManager\n","/* eslint-disable no-console */\nimport { useWeb3React } from '@web3-react/core'\nimport { useEffect, useState } from 'react'\n\nimport { isWalletDeactivated } from '../../services/utils'\nimport { getInjectedConnector, injected } from './connectors'\n\nexport function useEagerConnect() {\n  const { activate, active, deactivate } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    const eagerConnect = async () => {\n      // get account if exists and check if in deactivated wallets. if in deactivated wallets don't activate library\n      // const accountAddress = await injected.getAccount()\n      const currentlySelectedUserAddress = (window as any).ethereum.selectedAddress\n      if (isWalletDeactivated(currentlySelectedUserAddress)) {\n        deactivate()\n        setTried(true)\n        return\n      }\n\n      if (await injected.isAuthorized()) {\n        activate(await getInjectedConnector(), undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    }\n\n    // Run this on mount and every time the 'active' state changes.\n    // I.E: switches to chain that is not supported:\n    // This would cause the library to switch to inactive.\n    // getInjectedConnector() would fetch connectors for all supported Chains and the current unsupported one.\n    eagerConnect()\n  }, [activate, active])\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3React()\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const { ethereum } = window as any // TODO: Fix typing\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = async () => {\n        console.log(\"Handling 'connect' event\")\n        activate(await getInjectedConnector())\n      }\n      const handleChainChanged = async (chainId: string | number) => {\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\n        activate(await getInjectedConnector())\n      }\n      const handleAccountsChanged = async (accounts: string[]) => {\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n        if (accounts.length > 0) {\n          activate(await getInjectedConnector())\n        }\n      }\n      const handleNetworkChanged = async (networkId: string | number) => {\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\n        activate(await getInjectedConnector())\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}\n","import { Web3Provider } from '@ethersproject/providers'\nimport { Web3ReactProvider } from '@web3-react/core'\nimport React from 'react'\n\nfunction getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider, 'any') // added \"any\" because of https://github.com/ethers-io/ethers.js/issues/866\n  library.pollingInterval = 12000\n  return library\n}\n\nfunction WrappedWeb3ReactProvider({ children }: { children: JSX.Element }) {\n  return <Web3ReactProvider getLibrary={getLibrary}>{children}</Web3ReactProvider>\n}\n\nexport default WrappedWeb3ReactProvider\n","const CLASS_NAME = 'metadata'\nconst head = document.querySelector('head')\n\nfunction getDefaultValues() {\n  // facebook size: 1200 x 630\n  const defaultImage = {\n    url: 'https://swap.dev.bitizen.org/webMetadata.png',\n    w: 900,\n    h: 450,\n  }\n  const data = {\n    title: 'BitizenWallet',\n    description: 'Providing liquidity when and where needed',\n    url: window.location.href,\n    image: defaultImage,\n    lang: 'en',\n    og: {\n      'og:type': 'website',\n      'og:site_name': 'BitizenWallet',\n    },\n    tags: {\n      'twitter:card': 'summary_large_image',\n      'twitter:site': '@lifiprotocol',\n    },\n    noIndex: false,\n    statusCode: 200,\n  }\n\n  return data\n}\n\nfunction updateMetaTags(data: any) {\n  // set url, title and description to all formats\n  data.tags['twitter:title'] = data.title\n  data.tags['twitter:description'] = data.description\n  data.og['og:url'] = data.url\n  data.og['og:title'] = data.title\n  data.og['og:description'] = data.description\n\n  // set image to all formats\n  data.tags['twitter:image'] = data.image.url\n  data.og['og:image'] = data.image.url\n  data.og['og:image:url'] = data.image.url\n  data.og['og:image:secure_url'] = data.image.url\n  data.og['og:image:width'] = data.image.w\n  data.og['og:image:height'] = data.image.h\n\n  // title and language can be changed directly. they don't need to be deleted beforehand\n  document.title = data.title\n  document.documentElement.lang = data.lang\n\n  // create new tags\n  var nodes: Array<any> = []\n  addMetaTag(nodes, 'description', data.description)\n  addCanonicalUrlTag(data.url, data.forcedLanguage, nodes)\n  addMetaTag(nodes, 'prerender-status-code', data.statusCode)\n  if (data.noIndex) {\n    addMetaTag(nodes, 'robots', 'noindex')\n  }\n\n  Object.keys(data.og).forEach((key: string) => {\n    addMetaTag(nodes, key, data.og[key], true)\n  })\n\n  Object.keys(data.tags).forEach((key: string) => {\n    addMetaTag(nodes, key, data.tags[key])\n  })\n\n  if (data.prerenderHeader) {\n    addMetaTag(nodes, 'prerender-header', data.prerenderHeader)\n  }\n\n  // update tags in DOM\n  removeAllTagsFromDOM()\n  addTagsToDOM(nodes)\n}\n\nfunction addTagsToDOM(nodes: Array<any>) {\n  head?.append(...nodes)\n}\n\nfunction removeAllTagsFromDOM() {\n  var toDelete = document.querySelectorAll(`.${CLASS_NAME}`)\n  toDelete.forEach((elm) => elm.remove())\n}\n\nfunction addCanonicalUrlTag(url: string, forcedLanguage: any, nodes: Array<any>) {\n  nodes.push(createLinkTag('alternate', url, 'x-default'))\n  nodes.push(createLinkTag('alternate', url, 'en'))\n\n  // When adding multiple languages use:\n  // var char = url.indexOf('?') === -1 ? '?' : '&';\n  // if (forcedLanguage) {\n  //   nodes.push(createLinkTag('canonical', url + char + 'lang=' + forcedLanguage));\n  // } else {\n  //   nodes.push(createLinkTag('canonical', url));\n  // }\n  // var languages = ['en']\n\n  // languages.forEach((lang) => {\n  //   nodes.push(createLinkTag('alternate', url + char + 'lang=' + lang, lang));\n  // })\n}\n\n// eslint-disable-next-line max-params\nfunction addMetaTag(\n  nodes: Array<any>,\n  name: string,\n  content: string,\n  propertyTag: boolean = false,\n) {\n  if (content) {\n    nodes.push(createMetaTag(name, content, propertyTag))\n  }\n}\n\nfunction createMetaTag(name: string, content: string, propertyTag: boolean = false) {\n  const tag = document.createElement('meta')\n  if (propertyTag) {\n    tag.setAttribute('property', name)\n  } else {\n    tag.setAttribute('name', name)\n  }\n  tag.setAttribute('content', content)\n  tag.setAttribute('class', CLASS_NAME)\n  return tag\n}\n\nfunction createLinkTag(rel: string, href: string, hreflang: string | null = null) {\n  const tag = document.createElement('link')\n  tag.setAttribute('class', CLASS_NAME)\n  tag.setAttribute('rel', rel)\n  tag.setAttribute('href', href)\n  if (hreflang) {\n    tag.setAttribute('hreflang', hreflang)\n  }\n  return tag\n}\n\nfunction setMetatags(data: any) {\n  const defaultValues = getDefaultValues()\n  const values = Object.assign({}, defaultValues, data)\n  updateMetaTags(values)\n}\n\nexport default setMetatags\n","let inited = false\n\ntype StomtPages = 'lifi' | 'swap' | 'dashboard'\n\nconst appIds = {\n  lifi: 'uUVExD5kjMR92siP7moqDzhKn',\n  swap: 'FMHeDpf9yAOWkQ8rAClG06TUh',\n  dashboard: 'KozDav9YnWAKlijkRdpAJciWM',\n}\n\nexport const initStomt = (page: StomtPages) => {\n  const w = window as any\n  if (!process.env.REACT_APP_STOMT_ENABLED) {\n    return\n  }\n  if (w.innerWidth < 560) {\n    return\n  }\n\n  const appId = appIds[page]\n  if (!inited) {\n    inited = true\n    w.Stomt = w.Stomt || []\n    const script = document.getElementsByTagName('script')[0]\n    const tag = document.createElement('script')\n    tag.async = true\n    tag.src = 'https://www.stomt.com/widget.js'\n    script?.parentNode?.insertBefore(tag, script)\n\n    w.Stomt.push([\n      'addTab',\n      {\n        appId: appId,\n        colorBackground: '#0a0a79',\n        label: 'Feedback',\n        preload: false,\n      },\n    ])\n  } else {\n    w.Stomt?.tab?.setOptions({\n      appId: appId,\n    })\n  }\n}\n","import './App.css'\n\nimport { GithubOutlined, TwitterOutlined } from '@ant-design/icons'\nimport { Button, Col, Layout, Menu, Row } from 'antd'\nimport { Content } from 'antd/lib/layout/layout'\nimport { useEffect, useState } from 'react'\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\n\n// import logo from './assets/icon192.png'\n// import AboutPage from './components/AboutPage'\nimport Dashboard from './components/Dashboard'\nimport NotFoundPage from './components/NotFoundPage'\nimport NotificationOverlay from './components/NotificationsOverlay'\nimport Swap from './components/Swap'\nimport WalletButtons from './components/web3/WalletButtons'\nimport Web3ConnectionManager from './components/web3/Web3ConnectionManager'\nimport WrappedWeb3ReactProvider from './components/web3/WrappedWeb3ReactProvider'\nimport analytics from './services/analytics'\nimport setMetatags from './services/metatags'\nimport { initStomt } from './services/stomt'\nimport { getChainById } from './types'\n\nconst getTransferChains = (jsonArraySting: string) => {\n  try {\n    const chainIds = JSON.parse(jsonArraySting)\n    return chainIds.map(getChainById)\n  } catch (e) {\n    return []\n  }\n}\n\nfunction usePageViews() {\n  const [path, setPath] = useState<string>()\n\n  // const currentPath =\n  //   (window as any).location.pathname === '/' ? '/swap' : (window as any).location.pathname\n  // if (path !== currentPath) {\n  //   setPath(currentPath)\n  // }\n\n  // useEffect(() => {\n  //   if (path) {\n  //     analytics.sendPageView(path)\n  //   }\n  // }, [path])\n\n  return path\n}\n\nfunction App() {\n  const path = usePageViews()\n  // eslint-disable-next-line no-console\n  console.log('path', path)\n\n  function embedView() {\n    setMetatags({\n      title: 'Swap (embed)',\n    })\n    const transferChains = getTransferChains(process.env.REACT_APP_LIFI_ENABLED_CHAINS_JSON!)\n    return (\n      <div className=\"lifiEmbed\">\n        <Swap transferChains={transferChains} />\n        <div className=\"poweredBy\">\n          powered by{' '}\n          <a href=\"https://li.finance/\" target=\"_blank\" rel=\"nofollow noreferrer\">\n            Li.Finance\n          </a>\n        </div>\n        <div className=\"wallet-buttons-embed-view\">\n          <WalletButtons />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <HashRouter>\n      <WrappedWeb3ReactProvider>\n        <Web3ConnectionManager>\n          {path === '/embed' ? (\n            embedView()\n          ) : (\n            <Layout>\n              <Content>\n                <Switch>\n                  {/* <Redirect exact from=\"/\" to=\"/swap\" /> */}\n                  <Route\n                    path=\"/dashboard\"\n                    render={() => {\n                      setMetatags({\n                        title: 'Dashboard',\n                      })\n                      initStomt('dashboard')\n                      return (\n                        <>\n                          <Dashboard />\n                        </>\n                      )\n                    }}\n                  />\n                  <Route\n                    path=\"/swap\"\n                    render={() => {\n                      setMetatags({\n                        title: 'Swap',\n                      })\n                      initStomt('swap')\n                      const transferChains = getTransferChains(\n                        process.env.REACT_APP_LIFI_ENABLED_CHAINS_JSON!,\n                      )\n                      return (\n                        <div className=\"lifiWrap\">\n                          <Swap transferChains={transferChains} />\n                        </div>\n                      )\n                    }}\n                  />\n                  <Route\n                    path=\"/testnet\"\n                    render={() => {\n                      setMetatags({\n                        title: 'Testnet',\n                      })\n                      initStomt('swap')\n                      const transferChains = getTransferChains(\n                        process.env.REACT_APP_LIFI_ENABLED_CHAINS_TESTNET_JSON!,\n                      )\n                      return (\n                        <div className=\"lifiWrap\">\n                          <Swap transferChains={transferChains} />\n                        </div>\n                      )\n                    }}\n                  />\n                  <Route\n                    path=\"*\"\n                    render={() => {\n                      setMetatags({\n                        title: 'Not Found',\n                        status: 404,\n                      })\n                      initStomt('lifi')\n                      return <NotFoundPage />\n                    }}\n                  />\n                </Switch>\n              </Content>\n\n              {/* Social Links */}\n              <div className=\"lifi-content-social-links\">\n                <a\n                  className=\"icon-link\"\n                  href=\"https://twitter.com/lifiprotocol\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  <TwitterOutlined />\n                </a>\n                <a\n                  className=\"icon-link\"\n                  href=\"https://github.com/lifinance\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  <GithubOutlined />\n                </a>\n                <Button\n                  className=\"lifi-support-link\"\n                  href=\"https://discord.gg/lifi\"\n                  target=\"_blank\"\n                  rel=\"nofollow noreferrer\">\n                  Support\n                </Button>\n              </div>\n\n              {/* <Footer></Footer> */}\n              <NotificationOverlay />\n            </Layout>\n          )}\n        </Web3ConnectionManager>\n      </WrappedWeb3ReactProvider>\n    </HashRouter>\n  )\n}\n\nexport { App }\n","import { ChainId, ChainKey, CoinKey, findDefaultToken, Token } from '@lifinance/sdk'\n\nexport const defaultTokens: { [ChainKey: string]: Array<Token> } = {\n  [ChainKey.ETH]: [\n    findDefaultToken(CoinKey.ETH, ChainId.ETH),\n    findDefaultToken(CoinKey.USDC, ChainId.ETH),\n    findDefaultToken(CoinKey.USDT, ChainId.ETH),\n    findDefaultToken(CoinKey.MATIC, ChainId.ETH),\n    findDefaultToken(CoinKey.WBTC, ChainId.ETH),\n\n    // Partners\n    // > MAGIC: https://etherscan.io/token/0xb0c7a3ba49c7a6eaba6cd4a96c55a1391070ac9a\n    {\n      address: '0xb0c7a3ba49c7a6eaba6cd4a96c55a1391070ac9a',\n      chainId: ChainId.ETH,\n      decimals: 18,\n      logoURI:\n        'https://raw.githubusercontent.com/sushiswap/assets/master/blockchains/arbitrum/assets/0x539bdE0d7Dbd336b79148AA742883198BBF60342/logo.png',\n      name: 'MAGIC',\n      symbol: 'MAGIC',\n    },\n\n    // ADDED TOKEN FOR MARKETING PURPOSES\n    // > LOOKS: https://etherscan.io/token/0xf4d2888d29D722226FafA5d9B24F9164c092421E\n    {\n      address: '0xf4d2888d29D722226FafA5d9B24F9164c092421E',\n      chainId: ChainId.ETH,\n      decimals: 18,\n      logoURI: 'https://etherscan.io/token/images/looksrare_32.png',\n      name: 'LooksRare',\n      symbol: 'LOOKS',\n    },\n\n    // > METIS: https://etherscan.io/token/0x9e32b13ce7f2e80a01932b42553652e053d6ed8e\n    {\n      address: '0x9e32b13ce7f2e80a01932b42553652e053d6ed8e',\n      chainId: ChainId.ETH,\n      decimals: 18,\n      logoURI: 'https://assets.coingecko.com/coins/images/15595/small/metis.PNG',\n      name: 'Metis Token',\n      symbol: 'Metis',\n    },\n  ],\n  [ChainKey.BSC]: [\n    findDefaultToken(CoinKey.BNB, ChainId.BSC),\n    findDefaultToken(CoinKey.USDC, ChainId.BSC),\n    findDefaultToken(CoinKey.USDT, ChainId.BSC),\n    findDefaultToken(CoinKey.DAI, ChainId.BSC),\n    // findDefaultToken(CoinKey.WBTC, ChainId.BSC),\n\n    // Partners\n    // > METIS: https://bscscan.com/token/0xe552fb52a4f19e44ef5a967632dbc320b0820639\n    {\n      address: '0xe552fb52a4f19e44ef5a967632dbc320b0820639',\n      chainId: ChainId.BSC,\n      decimals: 18,\n      logoURI: 'https://assets.coingecko.com/coins/images/15595/small/metis.PNG',\n      name: 'Metis Token',\n      symbol: 'Metis',\n    },\n\n    // ADDED TOKEN FOR MARKETING PURPOSES\n    // > BOLE: https://bscscan.com/token/0x3375AfA606F5836154C95F1Df5830EA2e4F41DF2\n    {\n      address: '0x3375AfA606F5836154C95F1Df5830EA2e4F41DF2',\n      chainId: ChainId.BSC,\n      decimals: 18,\n      logoURI: 'https://bscscan.com/token/images/boleinc_32.png',\n      name: 'BoleToken',\n      symbol: 'BOLE',\n    },\n\n    // ADDED TOKEN FOR MARKETING PURPOSES\n    // > Dinoland Metaverse: https://bscscan.com/token/0x6B9481FB5465ef9Ab9347b332058D894aB09B2f6\n    {\n      address: '0x6B9481FB5465ef9Ab9347b332058D894aB09B2f6',\n      chainId: ChainId.BSC,\n      decimals: 18,\n      logoURI: 'https://bscscan.com/token/images/dinoland_32.png',\n      name: 'Dinoland Metaverse',\n      symbol: 'DNL',\n    },\n  ],\n  [ChainKey.POL]: [\n    findDefaultToken(CoinKey.MATIC, ChainId.POL),\n    findDefaultToken(CoinKey.USDC, ChainId.POL),\n    findDefaultToken(CoinKey.USDT, ChainId.POL),\n    findDefaultToken(CoinKey.DAI, ChainId.POL),\n    findDefaultToken(CoinKey.WBTC, ChainId.POL),\n\n    // Partners\n    // > MIVA:\n    {\n      name: 'Minerva Wallet SuperToken',\n      symbol: 'MIVA',\n      coinKey: 'MIVA' as CoinKey,\n      decimals: 18,\n      chainId: ChainId.POL,\n      logoURI: 'https://minerva.digital/i/MIVA-Token_200x200.png',\n      address: '0xc0b2983a17573660053beeed6fdb1053107cf387',\n    },\n    {\n      name: 'Own a fraction',\n      symbol: 'FRACTION',\n      coinKey: 'FRACTION' as CoinKey,\n      decimals: 18,\n      chainId: ChainId.POL,\n      logoURI: 'https://assets.coingecko.com/coins/images/15099/large/fraction.png?1619691519',\n      address: '0xbd80cfa9d93a87d1bb895f810ea348e496611cd4',\n    },\n    // RAIDER\n    {\n      name: 'Crypto Raiders',\n      symbol: 'RAIDER',\n      coinKey: 'RAIDER' as CoinKey,\n      decimals: 18,\n      chainId: ChainId.POL,\n      logoURI: 'https://assets.coingecko.com/coins/images/17638/small/Ue3Hfh8.png?1630737936',\n      address: '0xcd7361ac3307d1c5a46b63086a90742ff44c63b3',\n    },\n  ],\n  [ChainKey.DAI]: [\n    findDefaultToken(CoinKey.DAI, ChainId.DAI),\n    findDefaultToken(CoinKey.USDC, ChainId.DAI),\n    findDefaultToken(CoinKey.USDT, ChainId.DAI),\n    findDefaultToken(CoinKey.MATIC, ChainId.DAI),\n    findDefaultToken(CoinKey.WBTC, ChainId.DAI),\n\n    // Partners\n    // > MIVA:\n    {\n      name: 'Minerva Wallet SuperToken',\n      symbol: 'MIVA',\n      coinKey: 'MIVA' as CoinKey,\n      decimals: 18,\n      chainId: ChainId.DAI,\n      logoURI: 'https://minerva.digital/i/MIVA-Token_200x200.png',\n      address: '0x63e62989d9eb2d37dfdb1f93a22f063635b07d51',\n    },\n    {\n      name: 'Own a fraction',\n      symbol: 'FRACTION',\n      coinKey: 'FRACTION' as CoinKey,\n      decimals: 18,\n      chainId: ChainId.DAI,\n      logoURI: 'https://assets.coingecko.com/coins/images/15099/large/fraction.png?1619691519',\n      address: '0x2bf2ba13735160624a0feae98f6ac8f70885ea61',\n    },\n  ],\n  [ChainKey.FTM]: [\n    findDefaultToken(CoinKey.FTM, ChainId.FTM),\n    findDefaultToken(CoinKey.USDC, ChainId.FTM),\n    findDefaultToken(CoinKey.USDT, ChainId.FTM),\n    findDefaultToken(CoinKey.DAI, ChainId.FTM),\n    findDefaultToken(CoinKey.WBTC, ChainId.FTM),\n\n    //For marketing 0xDAO token\n    {\n      address: '0xc165d941481e68696f43ee6e99bfb2b23e0e3114',\n      chainId: ChainId.FTM,\n      decimals: 18,\n      logoURI:\n        ' https://assets.coingecko.com/coins/images/22888/small/rjks-OoT_400x400.jpg?1642827011 ',\n      name: '0xDAO',\n      symbol: 'OXD',\n    },\n\n    // Partners - for marketing purposes\n    // > TOMB: https://ftmscan.com/token/0x6c021Ae822BEa943b2E66552bDe1D2696a53fbB7\n    {\n      address: '0x6c021Ae822BEa943b2E66552bDe1D2696a53fbB7',\n      chainId: ChainId.FTM,\n      decimals: 18,\n      logoURI: 'https://ftmscan.com/token/images/tomb_32.png',\n      name: 'TOMB',\n      symbol: 'TOMB',\n    },\n  ],\n  [ChainKey.ARB]: [\n    findDefaultToken(CoinKey.ETH, ChainId.ARB),\n    findDefaultToken(CoinKey.USDC, ChainId.ARB),\n    findDefaultToken(CoinKey.USDT, ChainId.ARB),\n    findDefaultToken(CoinKey.DAI, ChainId.ARB),\n    findDefaultToken(CoinKey.WBTC, ChainId.ARB),\n\n    // Partners\n    // > MAGIC\n    {\n      address: '0x539bdE0d7Dbd336b79148AA742883198BBF60342',\n      chainId: ChainId.ARB,\n      decimals: 18,\n      logoURI:\n        'https://raw.githubusercontent.com/sushiswap/assets/master/blockchains/arbitrum/assets/0x539bdE0d7Dbd336b79148AA742883198BBF60342/logo.png',\n      name: 'MAGIC',\n      symbol: 'MAGIC',\n    },\n  ],\n  [ChainKey.OPT]: [\n    findDefaultToken(CoinKey.ETH, ChainId.OPT),\n    findDefaultToken(CoinKey.USDC, ChainId.OPT),\n    findDefaultToken(CoinKey.USDT, ChainId.OPT),\n    findDefaultToken(CoinKey.DAI, ChainId.OPT),\n    findDefaultToken(CoinKey.WBTC, ChainId.OPT),\n  ],\n  [ChainKey.ONE]: [\n    findDefaultToken(CoinKey.ONE, ChainId.ONE),\n    findDefaultToken(CoinKey.BNB, ChainId.ONE),\n    findDefaultToken(CoinKey.ETH, ChainId.ONE),\n    findDefaultToken(CoinKey.WBTC, ChainId.ONE),\n  ],\n  [ChainKey.AVA]: [\n    findDefaultToken(CoinKey.AVAX, ChainId.AVA),\n    findDefaultToken(CoinKey.USDC, ChainId.AVA),\n    findDefaultToken(CoinKey.USDT, ChainId.AVA),\n    findDefaultToken(CoinKey.DAI, ChainId.AVA),\n    findDefaultToken(CoinKey.WBTC, ChainId.AVA),\n\n    // ADDED TOKEN FOR MARKETING PURPOSES\n    // > Defrost Finance Token: https://snowtrace.io/token/0x47EB6F7525C1aA999FBC9ee92715F5231eB1241D\n    {\n      address: '0x47EB6F7525C1aA999FBC9ee92715F5231eB1241D',\n      chainId: ChainId.AVA,\n      decimals: 18,\n      logoURI: 'https://snowtrace.io/token/images/defrostfinance_32.png',\n      name: 'Defrost Finance Token',\n      symbol: 'MELT',\n    },\n  ],\n  [ChainKey.MOR]: [\n    findDefaultToken(CoinKey.MOVR, ChainId.MOR),\n    findDefaultToken(CoinKey.USDC, ChainId.MOR),\n    findDefaultToken(CoinKey.USDT, ChainId.MOR),\n    // findDefaultToken(CoinKey.WBTC, ChainId.MOR),\n  ],\n  [ChainKey.OKT]: [\n    findDefaultToken(CoinKey.OKT, ChainId.OKT),\n    findDefaultToken(CoinKey.USDC, ChainId.OKT),\n    findDefaultToken(CoinKey.USDT, ChainId.OKT),\n  ],\n  [ChainKey.HEC]: [\n    findDefaultToken(CoinKey.HT, ChainId.HEC),\n    findDefaultToken(CoinKey.USDC, ChainId.HEC),\n    findDefaultToken(CoinKey.USDT, ChainId.HEC),\n  ],\n\n  // Testnet\n  [ChainKey.GOR]: [\n    findDefaultToken(CoinKey.ETH, ChainId.GOR),\n    findDefaultToken(CoinKey.TEST, ChainId.GOR),\n    findDefaultToken(CoinKey.USDC, ChainId.GOR),\n    // findDefaultToken(CoinKey.USDT, ChainId.GOR),\n    findDefaultToken(CoinKey.DAI, ChainId.GOR),\n  ],\n  [ChainKey.RIN]: [\n    findDefaultToken(CoinKey.ETH, ChainId.RIN),\n    findDefaultToken(CoinKey.TEST, ChainId.RIN),\n    findDefaultToken(CoinKey.USDC, ChainId.RIN),\n    findDefaultToken(CoinKey.USDT, ChainId.RIN),\n    findDefaultToken(CoinKey.DAI, ChainId.RIN),\n  ],\n  [ChainKey.ROP]: [\n    findDefaultToken(CoinKey.ETH, ChainId.ROP),\n    findDefaultToken(CoinKey.TEST, ChainId.ROP),\n    findDefaultToken(CoinKey.USDC, ChainId.ROP),\n    findDefaultToken(CoinKey.USDT, ChainId.ROP),\n    findDefaultToken(CoinKey.DAI, ChainId.ROP),\n  ],\n  [ChainKey.KOV]: [findDefaultToken(CoinKey.ETH, ChainId.KOV)],\n  [ChainKey.MUM]: [\n    findDefaultToken(CoinKey.MATIC, ChainId.MUM),\n    findDefaultToken(CoinKey.TEST, ChainId.MUM),\n    findDefaultToken(CoinKey.USDC, ChainId.MUM),\n    // findDefaultToken(CoinKey.USDT, ChainId.MUM),\n    findDefaultToken(CoinKey.DAI, ChainId.MUM),\n  ],\n  [ChainKey.BSCT]: [findDefaultToken(CoinKey.BNB, ChainId.BSCT)],\n  [ChainKey.ONET]: [\n    findDefaultToken(CoinKey.ONE, ChainId.ONET),\n    findDefaultToken(CoinKey.ETH, ChainId.ONET),\n    findDefaultToken(CoinKey.BNB, ChainId.ONET),\n  ],\n}\n","import {\n  ChainKey,\n  Coin,\n  StepTool,\n  supportedBridges,\n  supportedExchangeAggregators,\n  supportedExchanges,\n  TokenAmount,\n} from '@lifinance/sdk'\nimport { TableColumnType } from 'antd'\nimport BigNumber from 'bignumber.js'\n\nexport interface Amounts {\n  amount_coin: BigNumber\n  amount_usd: BigNumber\n}\n\nexport interface DataType {\n  [key: string]: string | number | Amounts | Coin // kind of deactivating typing for DataType; last resort?\n  key: React.Key\n  coin: Coin\n  portfolio: Amounts\n}\n\nexport function chainKeysToObject(val: any) {\n  const result: { [ChainKey: string]: any } = {}\n  for (const key in ChainKey) {\n    result[key.toLowerCase()] = JSON.parse(JSON.stringify(val))\n  }\n  return result\n}\n\nexport interface ColomnType extends TableColumnType<DataType> {\n  children?: Array<ColomnType>\n}\n\nexport interface Wallet {\n  address: string\n  loading: boolean\n  portfolio: { [ChainKey: string]: Array<TokenAmount> }\n}\n\nexport enum Currencies {\n  USD = 'usd',\n  EUR = 'eur',\n}\n\nexport interface SummaryAmounts {\n  amount_usd: BigNumber\n  percentage_of_portfolio: BigNumber\n}\n\nexport interface WalletSummary {\n  wallet: string\n  chains: {\n    [ChainKey: string]: SummaryAmounts\n  }\n}\n\nexport const findTool = (toolKey: StepTool) => {\n  const allTools = [...supportedExchanges, ...supportedExchangeAggregators, ...supportedBridges]\n  const tool = allTools.find((tool) => tool.key === toolKey)\n  return tool\n}\n"],"sourceRoot":""}